{"version":3,"sources":["components/Panel/Panel.module.css","components/Loader/Loader.module.css","components/Main/main.module.css","components/Panel/ContactDetailPanel/ContactDetailPanel.module.css","components/Panel/GroupDetailPanel/GroupDetailPanel.module.css","components/Panel/PanelSelector/PanelSelector.module.css","index.css","types.d.ts","context/panelContext.ts","components/Panel/PanelSelector/PanelSelector.tsx","components/Loader/Loader.tsx","resources.ts","components/Modal/Modal.tsx","components/Panel/ContactDetailPanel/CreateGreaterNominativeForm.tsx","components/Panel/ContactPanel/MoveNominativeForm.tsx","utils.ts","components/DragDrop/DraggableComponent.tsx","components/Panel/ContactPanel/ContactPanel.tsx","components/Panel/GroupDetailPanel/CreateGroupForm.tsx","components/Panel/GroupPanel/CustomGroupRenderer.tsx","components/Panel/GroupPanel/GroupPanel.tsx","components/Tooltip/Tooltip.tsx","components/Panel/LogPanel/LogPanel.tsx","components/Panel/ContactDetailPanel/DetailForm.tsx","components/Panel/ContactDetailPanel/AddContactForm.tsx","components/Panel/ContactDetailPanel/ModifyContactForm.tsx","components/Panel/ContactDetailPanel/GroupList.tsx","components/Panel/ContactDetailPanel/ContactDetailPanel.tsx","components/Panel/GroupDetailPanel/GroupForm.tsx","components/Panel/GroupDetailPanel/GroupList.tsx","components/Panel/GroupDetailPanel/AddNominativesForm.tsx","components/Panel/GroupDetailPanel/GroupDetailPanel.tsx","components/Panel/PermissionPanel/PermissionPanel.tsx","components/Panel/ImportPanel/ImportPanel.tsx","components/DragDrop/DroppableComponent.tsx","components/Panel/Panel.tsx","components/Main/Timer.tsx","components/Main/Main.tsx","index.tsx","components/Panel/ImportPanel/ImportPanel.module.css","common.module.css","components/Modal/Modal.module.css","components/Panel/PermissionPanel/PermissionPanel.module.css"],"names":["PanelType","PanelContext","createContext","loggedUser","undefined","roles","Array","rolesPermission","categories","permissions","channels","rubriche","panels","focusedIndex","onGoBack","panelId","event","onMerge","onSplit","onSelect","type","id","resId","currentState","onFocus","focusId","getCache","panel","key","setCache","value","PanelSelector","context","state","open","handleOpening","setState","prevState","selectContact","CONTACTS","props","selectGroups","GROUPS","selectLogs","LOGS","selectPermission","PERMISSION","selectImport","IMPORT","getNameFromPanelType","panelType","CONTACT_DETAILS","GROUP_DETAILS","selected","styles","panelSelector","selectorOptions","opened","closed","permission","admin","selectorItem","write","PureComponent","contextType","Loader","loader","host","baseUrl","endpoints","categoryGet","groupsGet","groupsInsert","groupsUpdate","groupsDelete","groupsMultiDelete","groupsMulti","groupNominatives","insert","delete","groupNominativesMulti","subgroups","update","subgroupsMulti","supergroupsMulti","nominativesGet","nominativesUpdate","nominativesInsert","nominativesDelete","nominativesMulti","nominativesGroupsMulti","contacts","contactsMulti","rolePermission","logs","cambiaRubrica","rubricaAttuale","headers","Headers","append","getFetch","url","params","d","Date","ts","getTime","aut","window","authToken","fetch","method","credentials","res","json","data","code","timestamp","console","error","Error","postFetch","obj","form","FormData","JSON","stringify","fetchUrl","body","log","success","putFetch","deleteFetch","getGroups","name","categoria","limit","offset","URLSearchParams","toString","getCategorie","getNominatives","getPermissions","getRolesPermission","getRoles","getChannels","getLoggedUser","getLogs","getNominativeById","getGroupById","postNominative","nominative","postContact","contact","postGroup","group","putContact","channelId","nominativeId","warning","modificaMinore","putNominative","firstName","lastName","address","setNominativeRole","groupId","roleId","role","setNominativesRole","nominatives","setGroupsNominativeRole","ids","updateRolePermission","read","unsetNominativeRole","unsetNominativesRole","nominativeIds","unsetGroupsRole","putGroup","deleteGroup","deleteNominative","deleteNominatives","deleteGroups","deleteContact","deleteContacts","setSubgroup","subgroupId","setSubgroupMulti","subgroupIds","setSupergroupMulti","removeSubgroup","removeSubgroups","removeSupergroups","getRubriche","getRubricaAttuale","aggiornaRubrica","rub","client","groups","all","getById","create","deleteMulti","category","Modal","show","title","content","tall","onAccept","onDismiss","_hide","instance","_show","scrollTo","_showTall","dismiss","backDrop","tallModal","modal","modalTitle","modalContent","modalActions","cStyles","button","React","Component","showTall","hide","CreateGreaterNominativeForm","loading","grouplist","groupFilter","generateValidationSchema","yup","shape","required","hasGroup","prefilledGroup","onSubmitNominative","values","result","toast","TYPE","SUCCESS","refetch","ERROR","handleRole","setFieldValue","target","filterGroups","e","length","handleGroupSelection","detailForm","specificaRuolo","email","telefono","isValid","width","field","list","height","map","el","display","alignItems","padding","cursor","marginLeft","actionButton","MoveNominativeForm","selectedGroupId","submitChanges","handleChange","idx","debounced","func","wait","timeout","args","persist","clearTimeout","setTimeout","genID","array","Uint32Array","crypto","getRandomValues","str","i","slice","getResId","filter","getChannelName","channel","DraggableComponent","dndcontext","useContext","DndContext","dragDropManager","children","useDrag","item","collectedProps","drag","ContactPanel","total","gridApi","onGridReady","api","sizeColumnsToFit","onResize","handleNewNominative","handleNominativeClick","handleNominativeRemoval","response","handleNominativesRemoval","isArray","concat","handleRemoval","modalList","handleMultiRemoval","listedContent","modalItem","onSelectionChanged","p","getSelectedRows","handleMove","filterData","colDefs","headerName","checkboxSelection","cellRendererFramework","gruppi","k","HTML5Backend","cellRenderer","dat","lastEdit","setTime","toLocaleString","suppressSizeToFit","tabActions","addEventListener","passive","cacheData","err","removeEventListener","filt","buttonRow","lStyles","CreateGroupForm","onSubmitGroup","renderOptions","options","ID_CATEGORIA","DESCRIZIONE","onChange","CustomGroupRenderer","node","subgroupsCount","nominativeCount","GroupPanel","getNodeChildDetails","rowItem","hasMenuCategorie","handleGroupDeletion","onRemoval","handleGroupDetail","handleNewGroup","handleGroupsRemoval","textAlign","changeCategoria","menuCategorie","def","cat","marginBottom","flex","cellRendererParams","suppressCount","innerRendererFramework","cellStyle","suppressAutoSize","justifyContent","TableTooltip","reactContainer","className","getRowNode","rowIndex","table","description","LogPanel","tooltipField","sortable","tooltipComponent","tooltip","DetailForm","onCheckChange2","AddContactForm","warn","onSubmitContact","onCheckChange","checked","ModifyContactForm","setFieldTouched","dirty","GroupList","of","onSubmitChange","handleSelection","find","pos","findIndex","Number","handleSpecifica","ContactDetailPanel","selectedGroups","editedGroup","toggleGroup","g","removeContact","onRemoveContact","addNominativeToGroup","removeNominativeFromGroup","onRemoveNominativeFromGroup","onGroupDetail","modifyNominative","getRuoloIdFromName","nome","getMenuRuolo","ruolo","getRuoloSingolo","specifica","getSpecificaRuoloSingolo","out","data2","spec","param","getRuolo","addContact","modifyContact","removeContacts","onRemoveGroups","removeGroups","elm","selectGroup","prevProps","detailWrapper","detailData","owner","modifyUser","marginTop","dataList","contactsList","groupsList","GroupForm","onSubgroupAdd","actions","handleSubmit","supergroup","resetForm","AddNominativesForm","nomin","GroupDetailPanel","selectedSupergroups","selectedNominatives","editedNominative","toggleNominative","onNominativeDetail","deleteSubgroup","onDeleteSubgroup","fatherGroup","modifyGroup","exportGroup","exportGroup2","unsetNominative","onUnsetNominative","onSetNominative","onCreateNominative","onAddSubgroup","onAddSupergroup","onRemoveSubgroups","parentId","margin","fontWeight","onRemoveSupergroups","onRemoveNominatives","removeNominatives","formattedRequest","handleSupergroupSelection","handleNominativeSelection","nominativo","utente","ultimaMod","groupsWrapper","groupData","supergroupsCount","categoriaName","lastEditUser","marginRight","subgroupsList","subGroups","supergroups","PermissionPanel","fetchData","r","w","ToastType","permissionGrid","perm","left","roleName","ImportPanel","comandi","selectedFile","risultato","note","onFileChange","files","onSubmit","onFileUpload","formData","trovaNominativiMultipli","dati","j","chiedi","decisione","trovato","old","testo","cognome","nomeGruppo","aggiungi","push","stileDecisione","impStyles","toLowerCase","noteok","noteko","tabella","cmd","riga","cella","risposta","oldNome","oldCognome","deleted","nomeRuolo","oldNomeRuolo","oldSpecifica","nomiGruppiAppartenenza","indirizzo","oldIndirizzo","contatti","cont","nomeCanale","oldContatto","includes","maxWidth","DroppableComponent","useDrop","accept","drop","Panel","panelRef","createRef","inFocus","focus","refCallback","c","dropCallback","monitor","current","panelHeader","history","panelBody","Timer","time","start","timer","isOn","startTimer","bind","stopTimer","resetTimer","now","setInterval","clearInterval","Main","cache","cac","dispatchEvent","UIEvent","newPanels","currentTarget","dataset","onNominative","onGroup","panelHistory","poppedElement","pop","Object","keys","location","reload","mainWrapper","handleRubricaChange","panelsGrid","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd894b59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__3fJzM\",\"panelHeader\":\"Panel_panelHeader__9X-9f\",\"panelBody\":\"Panel_panelBody__mh3Ll\",\"inFocus\":\"Panel_inFocus__3qWYf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1nXm4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"main_mainWrapper__1Ly04\",\"panelsGrid\":\"main_panelsGrid__2hfGX\",\"grid1\":\"main_grid1__2U-o-\",\"grid2\":\"main_grid2__12MzE\",\"mycheckbox\":\"main_mycheckbox__3nU6I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailWrapper\":\"ContactDetailPanel_detailWrapper__30sgI\",\"detailData\":\"ContactDetailPanel_detailData__23CuF\",\"detailForm\":\"ContactDetailPanel_detailForm__2Tjzf\",\"dataList\":\"ContactDetailPanel_dataList__qVuf2\",\"contactsList\":\"ContactDetailPanel_contactsList__rCo2D\",\"groupsList\":\"ContactDetailPanel_groupsList__3sGkf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"groupsWrapper\":\"GroupDetailPanel_groupsWrapper__1WZcv\",\"subGroups\":\"GroupDetailPanel_subGroups__3XiYN\",\"nominatives\":\"GroupDetailPanel_nominatives__1as5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelSelector\":\"PanelSelector_panelSelector__hM1k0\",\"selectorOptions\":\"PanelSelector_selectorOptions__27e2R\",\"selectorItem\":\"PanelSelector_selectorItem__1xb8P\",\"closed\":\"PanelSelector_closed__1ck4-\",\"opened\":\"PanelSelector_opened__3QlPU\",\"admin\":\"PanelSelector_admin__uct2Q\"};","// extracted by mini-css-extract-plugin","export enum PanelType {\r\n  GROUPS = \"GROUPS\",\r\n  GROUP_DETAILS = \"GROUP_DETAILS\",\r\n  LOGS = \"LOGS\",\r\n  CONTACTS = \"CONTACTS\",\r\n  CONTACT_DETAILS = \"CONTACT_DETAIL\",\r\n  PERMISSION = \"PERMISSIONS\",\r\n  IMPORT = \"IMPORT\"\r\n}\r\n\r\nexport interface IPanel {\r\n  id: number| string;\r\n  type: PanelType;\r\n  history?: object[];\r\n  resId?: number;\r\n  currentState?: object;\r\n}\r\n\r\nexport interface RequestContext<P, F> {\r\n  data: P\r\n  loading: boolean\r\n  error: string\r\n  fetch: (url: any, filters: F | {}) => void\r\n}\r\n\r\nexport interface Nominative {\r\n  id: number\r\n  firstName: string\r\n  lastName: string\r\n  address: string\r\n  role?: string | null\r\n  contacts: Contact[]\r\n  modificaMinore: boolean\r\n}\r\n\r\nexport interface Role {\r\n  id: number\r\n  name: string\r\n}\r\n\r\nexport interface Channel {\r\n  id: number\r\n  name: string\r\n}\r\n\r\nexport interface Contact {\r\n  id: number\r\n  channelId: number\r\n  value: string\r\n  warning: boolean\r\n  modificaMinore: boolean\r\n}\r\n\r\nexport interface GroupDetail {\r\n  id?: number\r\n  name?: string\r\n  owner?: {\r\n    id: number\r\n    name: string\r\n  }\r\n  lastEdit?: number\r\n  lastEditUser?: {\r\n    id: number\r\n    firstName: string\r\n    lastName: string\r\n  }\r\n  subgroups?: GroupDetail[]\r\n  nominatives?: Nominative[]\r\n  subgroupsCount?: number\r\n  nominativeCount?: number\r\n}\r\n\r\nexport interface GroupInput {\r\n  name: string,\r\n  categoria: number\r\n}\r\n\r\nexport interface ContactInput {\r\n  nominativeId?: number\r\n  channelId: number\r\n  value: string\r\n  warning: boolean\r\n  modificaMinore?: boolean\r\n}\r\n\r\nexport interface NominativeInput {\r\n  firstName: string\r\n  lastName: string\r\n  address: string\r\n  group: number\r\n  role: number\r\n  specificaRuolo: string\r\n  telefono?: string\r\n  modificaMinore?: boolean\r\n  email?: string\r\n  contacts?: Contact[]\r\n  groups?: number[]\r\n}\r\n\r\nexport interface Log {\r\n  description: string\r\n  objectId: number\r\n  operation: string\r\n  table: string\r\n}\r\n\r\nexport interface PaginatedResponse<P> {\r\n  data: P[]\r\n  offset: number\r\n  limit: number\r\n  total: number\r\n  code: string\r\n}\r\n\r\nexport interface SimpleListResponse<P> {\r\n  data: P[]\r\n  code: string\r\n}\r\n\r\nexport interface SimpleResponse<P> {\r\n  code: string\r\n  error?: string[] | string\r\n  data?: P\r\n}\r\n","import { createContext, MouseEvent } from 'react';\r\nimport { PanelType, IPanel } from '../types';\r\n\r\nconst PanelContext = createContext({\r\n  loggedUser: undefined,\r\n  roles: new Array<any>(),\r\n  rolesPermission: new Array<any>(),\r\n  categories: new Array<any>(),\r\n  permissions: new Array<any>(),\r\n  channels: new Array<any>(),\r\n  rubriche: new Array<any>(),\r\n  panels: new Array<IPanel>(),\r\n  focusedIndex: '',\r\n  onGoBack: (panelId: string) => (event: MouseEvent) => {},\r\n  onMerge: () => {},\r\n  onSplit: () => {},\r\n  onSelect: (type: PanelType, id: number | string, resId?: number, currentState?: object) => {},\r\n  onFocus: (event: MouseEvent) => {},\r\n  focusId: (id: string) => {},\r\n  \r\n  getCache: (panel: string, key:string) => { return null; },\r\n  setCache: (panel: string, key: string, value: object) => {},\r\n});\r\n\r\nexport {PanelContext};\r\n","import React, {PureComponent} from \"react\";\nimport { PanelType } from \"../../../types.d\";\nimport { PanelContext } from \"../../../context/panelContext\";\nimport styles from \"./PanelSelector.module.css\"\nimport { getResId } from \"../../../utils\";\n\ntype SelectorProps = {\n  id: number | string,\n  selected: PanelType  \n}\n\ntype SelectorState = {\n  open: boolean\n}\n\nexport class PanelSelector extends PureComponent<SelectorProps, SelectorState> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n  state = {\n    open: false\n  }\n\n  handleOpening = () => this.setState(prevState => ({open: !prevState.open}));\n  selectContact = () => this.context.onSelect(PanelType.CONTACTS, this.props.id);\n  selectGroups = () => this.context.onSelect(PanelType.GROUPS, this.props.id);\n  selectLogs = () => this.context.onSelect(PanelType.LOGS, this.props.id); \n  selectPermission = () => this.context.onSelect(PanelType.PERMISSION, this.props.id); \n  selectImport = () => this.context.onSelect(PanelType.IMPORT, this.props.id); \n\n  getNameFromPanelType = (panelType: PanelType) => {\n    switch(panelType) {\n      case PanelType.LOGS:\n        return ' LOGS'\n      case PanelType.CONTACTS:\n        return ' NOMINATIVI'\n      case PanelType.CONTACT_DETAILS:\n        return ' DET NOMINATIVO'\n      case PanelType.GROUPS:\n        return ' GRUPPI'\n      case PanelType.GROUP_DETAILS:\n        return ' DET GRUPPO'\n      case PanelType.PERMISSION:\n        return ' PERMESSI'\n      case PanelType.IMPORT:\n        return ' IMPORTA'\n    }\n  }\n  \n  render() {\n    const {selected} = this.props;\n    const {open} = this.state;\n    return (\n      <div className={`${styles.panelSelector}`}>\n        <ul onClick={this.handleOpening} className={`${styles.selectorOptions} ${open ? styles.opened : styles.closed} ${this.context.loggedUser && this.context.loggedUser.permission ? styles.admin : ''}`}>\n        {open && (\n          <>\n            <li className={styles.selectorItem} onClick={this.selectContact}>{this.getNameFromPanelType(PanelType.CONTACTS)}</li>\n            <li className={styles.selectorItem} onClick={this.selectGroups}>{this.getNameFromPanelType(PanelType.GROUPS)}</li>\n            <li className={styles.selectorItem} onClick={this.selectLogs}>{this.getNameFromPanelType(PanelType.LOGS)}</li>\n            {this.context.loggedUser.write && (\n              <li className={styles.selectorItem} onClick={this.selectImport}>{this.getNameFromPanelType(PanelType.IMPORT)}</li>\n            )}\n          </>\n        )}\n        {!open && (\n          <li className={styles.selectorItem}>{this.getNameFromPanelType(selected)}</li>\n        )}\n        </ul>\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport styles from \"./Loader.module.css\";\nexport const Loader = () => <div className={styles.loader}>Loading....</div>\n","import { string } from \"prop-types\"\r\nimport { Nominative, GroupDetail, GroupInput, NominativeInput, ContactInput } from \"./types\";\r\nimport { userInfo } from \"os\";\r\n\r\n//const host = \"https://vm184lnx.ente.regione.emr.it:8443\"\r\nconst host = \"\"\r\n//const baseUrl = \"/api/jsonws/Rubrica-portlet.\"\r\nconst baseUrl = \"/api/jsonws/rubrica.\"\r\n\r\nconst endpoints = {\r\n\r\n  categoryGet:\r\n  `${host + baseUrl}rubricacategoria/get-categorie`,\r\n\r\n  groupsGet:\r\n  `${host + baseUrl}rubricagruppo/get-groups`,\r\n  groupsInsert:\r\n  `${host + baseUrl}rubricagruppo/add-group`,\r\n  groupsUpdate:\r\n  `${host + baseUrl}rubricagruppo/update-groups`,\r\n  groupsDelete:\r\n  `${host + baseUrl}rubricagruppo/delete-groups`,\r\n  groupsMultiDelete:\r\n  `${host + baseUrl}rubricagruppo/delete-groups-multi`,\r\n\r\n  groupsMulti:\r\n    `${host + baseUrl}rubricagruppo/groups-multi`,\r\n  groupNominatives:\r\n    {\r\n  \tinsert: `${host + baseUrl}rubricagrupponominativi/add-group-nominatives`,\r\n  \tdelete: `${host + baseUrl}rubricagrupponominativi/delete-group-nominatives`,\r\n  },\r\n  groupNominativesMulti: {\r\n  \tinsert: `${host + baseUrl}rubricagrupponominativi/add-group-nominatives-multi`,\r\n  \tdelete: `${host + baseUrl}rubricagrupponominativi/delete-group-nominatives-multi`,\r\n  },\r\n   \r\n    \r\n    \r\n  subgroups: {insert: `${host + baseUrl}rubricagruppogruppi/add-group-subgroups`,\r\n  \tdelete: `${host + baseUrl}rubricagruppogruppi/delete-group-subgroups`,\r\n  \tupdate: `${host + baseUrl}rubricagruppogruppi/update-group-subgroups`\r\n  },\r\n  subgroupsMulti: {\r\n  \tinsert: `${host + baseUrl}rubricagruppogruppi/add-group-multi-subgroups`,\r\n  \tdelete: `${host + baseUrl}rubricagruppogruppi/delete-group-multi-subgroups`,\r\n  },\r\n  \r\n  supergroupsMulti:  {\r\n  \tinsert: `${host + baseUrl}rubricagruppogruppi/add-group-multi-supergroups`,\r\n  \tdelete: `${host + baseUrl}rubricagruppogruppi/delete-group-multi-supergroups`,\r\n  },\r\n    \r\n    \r\n  nominativesGet:\r\n    `${host + baseUrl}rubricanominativo/get-nominatives`,\r\n  nominativesUpdate:\r\n    `${host + baseUrl}rubricanominativo/update-nominatives`,\r\n  nominativesInsert:\r\n    `${host + baseUrl}rubricanominativo/insert-nominatives`,\r\n  nominativesDelete:\r\n    `${host + baseUrl}rubricanominativo/delete-nominatives`,\r\n    \r\n    \r\n  nominativesMulti:\r\n    `${host + baseUrl}rubricanominativo/nominatives-multi`,\r\n  nominativesGroupsMulti: {\r\n  \tinsert: `${host + baseUrl}rubricanominativo/add-nominatives-groups-multi`,\r\n  \tdelete: `${host + baseUrl}rubricanominativo/delete-nominatives-groups-multi`,\r\n  },\r\n    \r\n  contacts: {insert: `${host + baseUrl}rubricacontatto/add-contacts`,\r\n  \tdelete: `${host + baseUrl}rubricacontatto/delete-contacts`,\r\n  \tupdate: `${host + baseUrl}rubricacontatto/update-contacts`\r\n  },\r\n  contactsMulti:\r\n    `${host + baseUrl}rubricacontatto/delete-contacts-multi`,\r\n  roles:\r\n    `${host + baseUrl}rubricaruolorubrica/get-address-book-roles`,\r\n  permission:\r\n    `${host + baseUrl}rubricapermessi/get-permission`,\r\n  rolePermission:\r\n    `${host + baseUrl}rubricaruolopermessi/get-role-permission`,\r\n  channels:\r\n    `${host + baseUrl}rubricacanale/get-channels`,\r\n  logs:\r\n    `${host + baseUrl}rubricalog/get-logs`,\r\n  loggedUser:\r\n    `${host + baseUrl}rubricaruolopermessi/get-user-info`,\r\n  rubriche:\r\n    `${host + baseUrl}rubricaruolorubrica/get-sites`,\r\n  cambiaRubrica:\r\n    `${host + baseUrl}rubricaruolorubrica/update-site`,\r\n  rubricaAttuale:\r\n    `${host + baseUrl}rubricaruolorubrica/get-current-site`\r\n}\r\n\r\nconst headers = new Headers()\r\nheaders.append('Cookie', 'JSESSIONID=1B406693174873A0DB2B429F9C4C4083.node01')\r\nheaders.append('Access-Control-Allow-Origin', 'https://vm184lnx.ente.regione.emr.it:8443')\r\n\r\nconst getFetch = async (url: string, params?: string) => {\r\n  const d = new Date()\r\n  const ts = d.getTime()\r\n  // to include session cookies, if does not work try using 'include'\r\n  const aut = \"p_auth=\"+window[\"Liferay\"].authToken\r\n  const res = await fetch(`${url}?${aut}&${params}`, {\r\n    headers,\r\n    method: \"GET\",\r\n    credentials: \"include\"\r\n  })\r\n\r\n  const data = await res.json()\r\n  if (typeof data === 'object' && data && data.code) data.timestamp = ts\r\n  \r\n\r\n  if (data.code && data.code !== 200) {\r\n    console.error('api error:', data.error)\r\n    throw new Error(data.error)\r\n  }\r\n\r\n  return data\r\n}\r\n\r\nconst postFetch = async (url: string, obj: any, params?: string) => {\r\n  const form = new FormData()\r\n  form.append('data', JSON.stringify(obj))\r\n  const aut = \"p_auth=\"+window[\"Liferay\"].authToken\r\n\r\n  const fetchUrl = params ? `${url}?${aut}&${params}` : `${url}?${aut}`\r\n\r\n  const res = await fetch(fetchUrl, {\r\n    headers,\r\n    method: 'POST',\r\n    credentials: \"include\",\r\n    body: form\r\n  })\r\n\r\n  const data = await res.json()\r\n  if (data && data.code >= 300) {\r\n    console.error('api error:', data.error)\r\n    throw new Error(data.error)\r\n  }\r\n  console.log(data.success)\r\n  return data\r\n}\r\n\r\nconst putFetch = async (url: string, params: string, obj: any) => {\r\n   const form = new FormData()\r\n  form.append('data', JSON.stringify(obj))\r\n  const aut = \"p_auth=\"+window[\"Liferay\"].authToken\r\n\r\n  const fetchUrl = params ? `${url}?${aut}&${params}` : `${url}?${aut}`\r\n\r\n  const res = await fetch(fetchUrl, {\r\n    headers,\r\n    method: 'POST',\r\n    credentials: \"include\",\r\n    body: form\r\n  })\r\n\r\n  const data = await res.json()\r\n  if (data.code >= 300) {\r\n    console.error('api error:', data.error)\r\n    throw new Error(data.error)\r\n  }\r\n  console.log(data.success)\r\n  return data\r\n}\r\n\r\nconst deleteFetch = async (url: string, params: string, obj?: any) => {\r\n    const form = new FormData()\r\n  form.append('data', JSON.stringify(obj))\r\n  const aut = \"p_auth=\"+window[\"Liferay\"].authToken\r\n\r\n  const fetchUrl = params ? `${url}?${aut}&${params}` : `${url}?${aut}`\r\n\r\n  const res = await fetch(fetchUrl, {\r\n    headers,\r\n    method: 'POST',\r\n    credentials: \"include\",\r\n    body: form\r\n  })\r\n\r\n  const data = await res.json()\r\n  if (data.code >= 300) {\r\n    console.error('api error:', data.error)\r\n    throw new Error(data.error)\r\n  }\r\n  console.log(data.success)\r\n  return data\r\n}\r\n\r\nconst getGroups = async (\r\n  name: string = \"\",\r\n  categoria: number | string = -1,\r\n  limit: number | string = 10000,\r\n  offset: number | string = 0\r\n) => {\r\n  const params = new URLSearchParams()\r\n  params.append(\"name\", name)\r\n  params.append(\"categoria\",(categoria&&categoria>=0?categoria.toString():\"-1\"))\r\n  params.append(\"limit\", limit.toString())\r\n  params.append(\"offset\", offset.toString())\r\n\r\n  try {\r\n    const data = await getFetch(endpoints.groupsGet, params.toString())\r\n    console.log(data)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getCategorie = async (\r\n) => {\r\n  const params = new URLSearchParams()\r\n\r\n  try {\r\n    const data = await getFetch(endpoints.categoryGet, params.toString())\r\n    console.log(data)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getNominatives = async (\r\n  name: string = \"\",\r\n  limit: number | string = 10,\r\n  offset: number | string = 0\r\n) => {\r\n  const params = new URLSearchParams()\r\n  params.append(\"name\", name)\r\n  params.append(\"limit\", limit.toString())\r\n  params.append(\"offset\", offset.toString())\r\n\r\n  try {\r\n    const data = await getFetch(endpoints.nominativesGet, params.toString())\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getPermissions = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.permission)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getRolesPermission = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.rolePermission, '')\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getRoles = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.roles)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getChannels = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.channels)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getLoggedUser = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.loggedUser)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getLogs = async (name: string, limit: number | string = 10, offset: number | string = 0) => {\r\n  const params = new URLSearchParams()\r\n  params.append(\"name\", name)\r\n  params.append(\"limit\", limit.toString())\r\n  params.append(\"offset\", offset.toString())\r\n\r\n  const data = await getFetch(endpoints.logs, params.toString())\r\n  return data\r\n}\r\n\r\nconst getNominativeById = async (id: number) => {\r\n  const params = new URLSearchParams()\r\n  params.append(\"id\", id.toString())\r\n\r\n  const data = await getFetch(endpoints.nominativesGet, params.toString())\r\n  return data\r\n}\r\n\r\nconst getGroupById = async (id: number) => {\r\n  const params = new URLSearchParams()\r\n  params.append(\"id\", id.toString())\r\n\r\n  const data = await getFetch(endpoints.groupsGet, params.toString())\r\n  return data\r\n}\r\n\r\nconst postNominative = async (nominative: NominativeInput) => {\r\n  const data = await postFetch(endpoints.nominativesInsert, nominative)\r\n  return data\r\n}\r\n\r\nconst postContact = async (contact: ContactInput) => {\r\n  const data = await postFetch(endpoints.contacts.insert, contact)\r\n  return data\r\n}\r\n\r\nconst postGroup = async (group: GroupInput) => {\r\n  const data = await postFetch(endpoints.groupsInsert, group)\r\n  return data\r\n}\r\n\r\nconst putContact = async (id: number, contact: ContactInput) => {\r\n  const {channelId, nominativeId, value, warning, modificaMinore} = contact\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = {\r\n    channelId,\r\n    nominativeId,\r\n    value,\r\n    warning,\r\n    modificaMinore\r\n  }\r\n\r\n  const res = await putFetch(endpoints.contacts.update, params.toString(), data)\r\n  return res\r\n}\r\n\r\nconst putNominative = async (id: number | string, nominative: NominativeInput) => {\r\n  const {firstName, lastName, address, modificaMinore} = nominative\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = {\r\n    firstName,\r\n    lastName,\r\n    address,\r\n    modificaMinore\r\n  }\r\n  const res = await putFetch(endpoints.nominativesUpdate, params.toString(), data)\r\n  return res\r\n}\r\n\r\nconst setNominativeRole = async (groupId: number | string, nominativeId: number | string, roleId: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', groupId.toString())\r\n\r\n  const data = await postFetch(endpoints.groupNominatives.insert, {\r\n    nominativeId,\r\n    role: roleId\r\n  }, params.toString())\r\n  return data\r\n}\r\n\r\nconst setNominativesRole = async (groupId: number | string, nominatives: any[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', groupId.toString())\r\n\r\n  const data = await postFetch(endpoints.groupNominativesMulti.insert, nominatives, params.toString())\r\n  return data\r\n}\r\n\r\nconst setGroupsNominativeRole = async (id: number | string, ids: any[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n\r\n  const data = await postFetch(endpoints.nominativesGroupsMulti.insert, ids, params.toString())\r\n  return data\r\n}\r\n\r\n\r\n\r\nconst updateRolePermission = async (roleId: number | string, permission: boolean, read: boolean, write: boolean) => {\r\n  const obj = [{\r\n    permission,\r\n    read,\r\n    write,\r\n    roleId\r\n  }]\r\n  const data = await putFetch(endpoints.rolePermission, \"\", obj)\r\n  return data\r\n}\r\n\r\nconst unsetNominativeRole = async (groupId: number | string, nominativeId: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', groupId.toString())\r\n  const data = await deleteFetch(endpoints.groupNominatives.delete, params.toString(), {nominativeId})\r\n  return data\r\n}\r\n\r\nconst unsetNominativesRole = async (groupId: number | string, nominativeIds: number[] | string[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', groupId.toString())\r\n  const data = await deleteFetch(endpoints.groupNominativesMulti.delete, params.toString(), nominativeIds)\r\n  return data\r\n}\r\n\r\nconst unsetGroupsRole = async (groupId: number | string, nominatives: number[] | string[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', groupId.toString())\r\n  const data = await deleteFetch(endpoints.nominativesGroupsMulti.delete, params.toString(), nominatives)\r\n  return data\r\n}\r\n\r\nconst putGroup = async (id: number | string, group: GroupInput) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await putFetch(endpoints.groupsUpdate, params.toString(), group)\r\n  return data\r\n}\r\n\r\nconst deleteGroup = async (id: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await deleteFetch(endpoints.groupsDelete, params.toString())\r\n  return data\r\n}\r\n\r\nconst deleteNominative = async (id: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await deleteFetch(endpoints.nominativesDelete, params.toString())\r\n  return data\r\n}\r\n\r\nconst deleteNominatives = async (ids: number[] | string[]) => {\r\n  const data = await deleteFetch(endpoints.nominativesMulti, \"\", ids)\r\n  return data\r\n}\r\n\r\nconst deleteGroups = async (ids: number[] | string[]) => {\r\n  const data = await deleteFetch(endpoints.groupsMultiDelete, \"\", ids)\r\n  return data\r\n}\r\n\r\nconst deleteContact = async (id: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await deleteFetch(endpoints.contacts.delete, params.toString())\r\n  return data\r\n}\r\n\r\nconst deleteContacts = async (ids: {id: number|string}[]) => {\r\n  // const params = new URLSearchParams()\r\n  const data = await deleteFetch(endpoints.contactsMulti, \"\", ids)\r\n  return data\r\n}\r\n\r\nconst setSubgroup = async (id: number | string, subgroupId: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await postFetch(endpoints.subgroups.insert, {subgroupId}, params.toString())\r\n  return data\r\n}\r\nconst setSubgroupMulti = async (id: number | string, subgroupIds: string[] | number[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await postFetch(endpoints.subgroupsMulti.insert, subgroupIds, params.toString())\r\n  return data\r\n  }\r\n\r\n  const setSupergroupMulti = async (id: number | string, subgroupIds: string[] | number[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await postFetch(endpoints.supergroupsMulti.insert, subgroupIds, params.toString())\r\n  return data\r\n}\r\n\r\nconst removeSubgroup = async (id: number | string, subgroupId: number | string) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await deleteFetch(endpoints.subgroups.delete, params.toString(), {subgroupId})\r\n  return data\r\n}\r\n\r\nconst removeSubgroups = async (id: number | string, subgroupIds: number[] | string[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await deleteFetch(endpoints.subgroupsMulti.delete, params.toString(), subgroupIds)\r\n  return data\r\n  }\r\n\r\n const removeSupergroups = async (id: number | string, subgroupIds: number[] | string[]) => {\r\n  const params = new URLSearchParams()\r\n  params.append('id', id.toString())\r\n  const data = await deleteFetch(endpoints.supergroupsMulti.delete, params.toString(), subgroupIds)\r\n  return data\r\n}\r\n\r\nconst getRubriche = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.rubriche)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst getRubricaAttuale = async () => {\r\n  try {\r\n    const data = await getFetch(endpoints.rubricaAttuale)\r\n    return data\r\n  } catch(e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nconst aggiornaRubrica = async (rub) => {\r\nconst params = new URLSearchParams()\r\n  params.append('sito', rub)\r\n  const data = await postFetch(endpoints.cambiaRubrica, \"\", params.toString())\r\n  return data\r\n}\r\n\r\n\r\nconst client = {\r\n  groups: {\r\n    setNominativeRole,\r\n    setNominativesRole,\r\n    setGroupsNominativeRole,\r\n    unsetNominativeRole,\r\n    unsetNominativesRole,\r\n    unsetGroupsRole,\r\n    setSubgroup,\r\n    setSubgroupMulti,\r\n    setSupergroupMulti,\r\n    removeSubgroup,\r\n    removeSubgroups,\r\n    removeSupergroups,\r\n    all: getGroups,\r\n    getById: getGroupById,\r\n    create: postGroup,\r\n    update: putGroup,\r\n    delete: deleteGroup,\r\n    deleteMulti: deleteGroups\r\n  },\r\n  nominatives: {\r\n    all: getNominatives,\r\n    getById: getNominativeById,\r\n    create: postNominative,\r\n    update: putNominative,\r\n    delete: deleteNominative,\r\n    deleteMulti: deleteNominatives\r\n  },\r\n  contacts: {\r\n    create: postContact,\r\n    delete: deleteContact,\r\n    deleteMulti: deleteContacts,\r\n    update: putContact\r\n  },\r\n  permission: {\r\n    all: getPermissions\r\n  },\r\n  rolesPermission: {\r\n    all: getRolesPermission,\r\n    update: updateRolePermission\r\n  },\r\n  roles: {\r\n    all: getRoles\r\n  },\r\n  channels: {\r\n    all: getChannels\r\n  },\r\n  logs: {\r\n    all: getLogs\r\n  },\r\n  category: {\r\n    all: getCategorie\r\n  },\r\n  loggedUser: getLoggedUser,\r\n  getRubricaAttuale: getRubricaAttuale,\r\n  getRubriche: getRubriche,\r\n  aggiornaRubrica: aggiornaRubrica\r\n}\r\n\r\nexport default endpoints\r\nexport {\r\n  headers,\r\n  client\r\n}\r\n","import React from \"react\";\nimport styles from \"./Modal.module.css\";\nimport cStyles from \"../../common.module.css\"\n\ninterface ModalState {\n  show: boolean,\n  title: string,\n  content: JSX.Element | null,\n  onAccept: any,\n  onDismiss: any,\n  tall: boolean\n}\n\nexport class Modal extends React.Component<any, ModalState> {\n  state = {\n    show: false,\n    title: '',\n    content: null,\n    tall: false,\n    onAccept: undefined,\n    onDismiss: undefined\n  }\n  static instance: Modal;\n\n  static show = (title: string, content: JSX.Element, onAccept:any = undefined, onDismiss:any = undefined) => {\n    Modal.instance._show(title, content, onAccept, onDismiss)\n  }\n\n  static showTall = (title: string, content: JSX.Element, onAccept:any = undefined, onDismiss:any = undefined) => {\n    Modal.instance._showTall(title, content, onAccept, onDismiss)\n  }\n\n  static hide = () => {\n    Modal.instance._hide()\n  }\n\n  constructor(props: any) {\n    super(props)\n    Modal.instance = this\n  }\n\n  _hide = () => {\n    Modal.instance.setState({\n      show: false,\n      title: '',\n      content: null,\n      onAccept: () => {},\n      onDismiss: () => {}\n    })\n  }\n\n  _show = (title: string, content: JSX.Element, onAccept: () => void, onDismiss: () => void) => {\n    window.scrollTo(0,0)\n    Modal.instance.setState({\n      show: true,\n      title,\n      content,\n      onAccept,\n      onDismiss\n    })\n  }\n\n  _showTall = (title: string, content: JSX.Element, onAccept: () => void, onDismiss: () => void) => {\n    window.scrollTo(0,0)\n    Modal.instance.setState({\n      show: true,\n      tall: true,\n      title,\n      content,\n      onAccept,\n      onDismiss\n    })\n  }\n\n  dismiss = () => {\n    if(this.state.onDismiss && typeof this.state.onDismiss === 'function') {\n      this.state.onDismiss();\n    }\n    this._hide();\n  }\n\n  render() {\n    return (\n      this.state.show && (\n        <>\n          <div className={styles.backDrop} onClick={this._hide}></div>\n          <div className={this.state.tall?styles.tallModal:styles.modal}>\n            <h1 className={styles.modalTitle}>{this.state.title}</h1>\n            <div className={styles.modalContent}>\n              {this.state.content}\n            </div>\n            <div className={styles.modalActions}>\n              <button className={cStyles.button} onClick={this.dismiss}>Annulla</button>\n              {typeof this.state.onAccept === 'function' && (\n                <button className={cStyles.button} onClick={this.state.onAccept}>Conferma</button>\n              )}\n            </div>\n          </div>\n        </>\n      )\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form, Field, FormikValues, FormikActions} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport { PanelContext } from '../../../context/panelContext';\nimport { NominativeInput, PanelType } from '../../../types.d';\nimport styles from './ContactDetailPanel.module.css';\nimport { Modal } from '../../Modal/Modal';\nimport cStyles from \"../../../common.module.css\";\nimport { debounced } from '../../../utils';\n\n\n\nexport class CreateGreaterNominativeForm extends Component<any, any> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  state = {\n   loading:false,\n   error:null,\n   grouplist:null,\n   groupFilter:'',\n   timestamp: 0\n  }\n\n  generateValidationSchema = () => yup.object().shape({\n    firstName: yup.string().required(),\n    lastName: yup.string().required(),\n    //address: yup.string().required(),\n    contacts: yup.array(),\n    groups: yup.array()\n  })\n\n  hasGroup = () => {\n     return this.props.group\n  }\n\n  prefilledGroup = () => {\n     return (this.props.group && this.props.group.name? this.props.group.name : null)\n  }\n\n  onSubmitNominative = async (values: NominativeInput) => {\n    const result = await client.nominatives.create(values)\n    if(result.code === 201) {\n      toast(\"Nominativo creato con successo\", {\n        type: toast.TYPE.SUCCESS\n      })\n      Modal.hide()\n      this.props.refetch();\n    } else {\n      toast(\"Creazione nominativo fallita, riprova\", {\n        type: toast.TYPE.ERROR\n      })\n      Modal.hide()\n    }\n  }\n\n  handleRole = (values, setFieldValue) => (event) => {\n    setFieldValue('role', event.target.value)\n  }\n\n  filterGroups = (setFieldValue) => async (e) => {\n    setFieldValue('group',null)\n    this.setState({groupFilter:e.target.value})\n    if (!e.target.value || e.target.value.length<2) {\n       this.setState({grouplist:null})\n       return\n    }\n    let data = await client.groups.all(e.target.value, 3, 0)\n    if(data.code === 200) {\n      if (data.timestamp>this.state.timestamp) this.setState({grouplist: data.data, loading: false, timestamp: data.timestamp})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n  }\n\n  handleGroupSelection = (group,setFieldValue) => (event) => {\n    setFieldValue('group',group.id)\n    this.setState({groupFilter:group.name,grouplist:null})\n}\n\n  render() {\n    return (\n    <div className={styles.detailForm}>\n      <Formik\n        initialValues={{\n          firstName: '',\n          lastName: '',\n          role: null,\n          group: this.hasGroup()?this.props.group.id:null,\n          specificaRuolo: '',\n          contacts: [],\n          address: '',\n          email: '',\n          telefono: '',\n          groups: [],\n        }}\n        validationSchema={this.generateValidationSchema()}\n        onSubmit={this.onSubmitNominative}\n      >\n        {({values, setFieldValue, isValid}) => (\n          <Form>\n            <table style={{width:'100%'}}><tr><td>\n            <div className={cStyles.field}>\n              <label>\n                <span>Nome</span>\n                <Field type=\"text\" name=\"firstName\" />\n              </label>\n            </div></td><td>\n            <div className={cStyles.field}>\n              <label>\n                <span>Cognome</span>\n                <Field type=\"text\" name=\"lastName\" />\n              </label>\n            </div></td></tr><tr><td colSpan={2}>\n            <div className={cStyles.field}>\n              <label>\n                <span>Indirizzo</span>\n                <Field type=\"text\" name=\"address\" />\n              </label>\n            </div></td></tr><tr><td colSpan={2}>\n            {this.hasGroup() &&\n             <div className={cStyles.field}>\n              <label>\n                <span>Gruppo</span>\n                <span><b>{this.prefilledGroup()}</b></span>\n              </label>\n             </div>\n            }\n            {!this.hasGroup() &&\n             <div className={cStyles.field}>\n              <label>\n                <span>Gruppo</span>\n                 <input value={this.state.groupFilter} type=\"text\" onChange={this.filterGroups(setFieldValue)} />\n           {this.state.grouplist &&\n           <ul className={cStyles.list} style={{height:'120px'}}>\n              {this.state.grouplist && this.state.grouplist.map(el => <React.Fragment key={el.id}>\n                {el.id>=0 &&\n                  <li style={{display: 'flex', alignItems: 'center', padding: '.5rem 0'}}>\n                    <div style={{width:'90%',height:'16px',cursor:'pointer'}} onClick={this.handleGroupSelection(el,setFieldValue)}>{el.name}</div>\n                  </li>\n                }\n                </React.Fragment>\n              )}\n            </ul>\n            }\n              </label>\n             </div>\n            }</td></tr><tr><td>\n            <div className={cStyles.field}>\n              <label>\n                <span>Ruolo</span>\n                <select onChange={this.handleRole(values, setFieldValue)} defaultValue=\"\" style={{marginLeft: 'auto'}}>\n                        <option value=\"\">---</option>\n                        {this.props.roles && this.props.roles.map(role => <option key={role.id} value={role.id}>{role.name}</option>)}\n                </select>\n              </label>\n            </div></td><td>\n            <div className={cStyles.field}>\n              <label>\n                <span>Specifica</span>\n                <Field type=\"text\" name=\"specificaRuolo\" />\n              </label>\n            </div></td></tr><tr><td>\n            <div className={cStyles.field}>\n              <label>\n                <span>Email</span>\n                <Field type=\"text\" name=\"email\" />\n              </label>\n            </div></td><td>\n<div className={cStyles.field}>\n              <label>\n                <span>Telefoni</span>\n                <Field type=\"text\" name=\"telefono\" />\n              </label>\n            </div></td></tr></table>\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid} type=\"submit\"> Crea </button>\n\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )}\n}\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form, Field, FormikValues, FormikActions} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport { PanelContext } from '../../../context/panelContext';\nimport cStyles from \"../../../common.module.css\";\n\nexport class MoveNominativeForm extends Component<any, any> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  state = {\n    selectedGroupId: undefined\n  }\n\n  submitChanges = (values: any) => {\n    client.groups.setNominativeRole(this.state.selectedGroupId, values.nominativeId, values.roleId)\n  }\n\n  handleChange = (setFieldValue, id) => (event) => {\n    setFieldValue('nominatives', id)\n  }\n\n  render() {\n    return (\n    <>\n      <div className={''}>\n      <Formik \n        initialValues={{\n          nominatives: [],\n        }} \n        onSubmit={this.submitChanges}\n      >\n        {({values, isValid, setFieldValue}) => (\n          <Form>\n            <ul>\n              {this.props.nominatives.map((el,idx) => {\n                <li>\n                  {el.firstName} {el.lastName}\n                  <input hidden value={el.id} />\n                  <select name=\"roleId\" onChange={this.handleChange(setFieldValue, el.id)}>\n                    {this.context.roles.map((role) => {\n                      <option value={role.id}>{role.name}</option>\n                    })}\n                  </select>\n                </li>\n              })\n              }\n            </ul>\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid} \n              type=\"submit\"> Salva Modifiche </button>\n          </Form>\n        )}\n      </Formik>\n      </div>\n    </>\n  )}\n}","export const debounced = (func: (args?:any) => void, wait: number) => {\n  let timeout: NodeJS.Timeout;\n  return (args: any) => {\n    args.persist();\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      func(args);\n    }, wait);\n  };\n}\n\nexport const genID = () => {\n  let array = new Uint32Array(8)\n  window.crypto.getRandomValues(array)\n  let str = ''\n  for (let i = 0; i < array.length; i++) {\n    str += (i < 2 || i > 5 ? '' : '-') + array[i].toString(16).slice(-4)\n  }\n  return str\n}\n\nexport const getResId = (panels, id) => {\n  const panel = panels.filter((panel) => panel.id === id);\n  if (panel[0]) {\n    return panel[0].resId\n  } else {\n    return undefined\n  }\n}\n\nexport const getChannelName = (channels, channelId) => {\n  const channel = channels.filter(channel => channel.id === channelId)\n  if (channel[0]) {\n    return channel[0].name\n  } else {\n    return ''\n  }\n}\n","import React, { Component, useContext } from \"react\";\r\nimport { useDrag, DndContext } from 'react-dnd';\r\n\r\nexport function DraggableComponent(props) {\r\n  const dndcontext = useContext(DndContext)\r\n  //console.log(dndcontext)\r\n  if (dndcontext.dragDropManager===undefined) {\r\n    console.log('No context, no DnD')\r\n    return <>{props.children}</>\r\n  }\r\n  const [collectedProps, drag] = useDrag({\r\n    item: { data: props.data, type: props.type },\r\n  })\r\n  //console.log(\"DraggableComponent\")\r\n  //console.log(props)\r\n  return <span ref={drag}>{props.children}</span>\r\n}","import React, { PureComponent } from \"react\";\nimport { AgGridReact } from 'ag-grid-react';\nimport { Loader } from \"../../Loader\";\nimport { client } from \"../../../resources\";\nimport { PanelContext } from \"../../../context/panelContext\";\nimport { CellClassParams, GridReadyEvent, GridApi } from \"ag-grid-community\";\nimport { PanelType } from \"../../../types.d\";\nimport { toast } from \"react-toastify\";\nimport { Modal } from \"../../Modal/Modal\";\nimport { CreateNominativeForm } from \"../ContactDetailPanel/CreateNominativeForm\";\nimport { CreateGreaterNominativeForm } from \"../ContactDetailPanel/CreateGreaterNominativeForm\";\nimport { MoveNominativeForm } from \"./MoveNominativeForm\";\nimport cStyles from \"../../../common.module.css\"\nimport lStyles from \"../../Loader/Loader.module.css\"\nimport { debounced } from '../../../utils';\n\nimport { DndProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport {DraggableComponent} from \"../../DragDrop/DraggableComponent\"\n\n\nexport class ContactPanel extends PureComponent<any,any> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  state = {\n    loading: true,\n    data: [],\n    filter: '',\n    error: null,\n    timestamp: 0,\n    selected: [],\n    total: 0\n  }\n\n  gridApi: GridApi | null = null;\n\n  onGridReady = (params: GridReadyEvent) => {\n    this.gridApi = params.api;\n    this.gridApi.sizeColumnsToFit();\n  }\n\n  onResize = () => {\n    if(this.gridApi) {\n      this.gridApi.sizeColumnsToFit();\n    }\n  }\n\n  handleNewNominative = () => {\n   /* Modal.show('Crea Nominativo', <CreateNominativeForm refetch={this.refetch} />, null, null)*/\n    Modal.showTall('Crea Nominativo', (\n      <CreateGreaterNominativeForm refetch={this.refetch} roles={this.context.roles} />\n    ))\n  \n  }\n\n  handleNominativeClick = (id: any) => () => this.context.onSelect(PanelType.CONTACT_DETAILS, this.props.id, id, this.state);\n\n  handleNominativeRemoval = (id: any) => async () => {\n    const response = await client.nominatives.delete(id)\n    if(response.code === 204) {\n      toast('Nominativo cancellato con successo', {\n        type: toast.TYPE.SUCCESS\n      })\n      this.refetch()\n      Modal.hide()\n    } else {\n      toast('Cancellazione fallita, riprova', {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  handleNominativesRemoval = (nominatives) => async (event) => {\n    const ids = Array.isArray(nominatives)? nominatives.map(({id}) => {\n      return {id};\n    }) : [].concat({\"id\":nominatives});\n    const response = await client.nominatives.deleteMulti(ids)\n    if(response.code >= 200 && response.code<300) {\n      toast('Nominativi eliminati', {\n        type: toast.TYPE.SUCCESS\n      })\n      this.setState({selected: []},()=> this.refetch())\n    } else {\n      toast('Eliminazione fallita, riprova', {\n        type: toast.TYPE.ERROR\n      })\n    }\n    Modal.hide()\n  }\n\n  handleRemoval = (nominative: any) => () => {\n    Modal.show(\n      'Eliminazione nominativo',\n      <div className=\"leftAligned\">\n        Conferma la rimozione del nominativo:\n        <br />\n        <div className={cStyles.modalList}>\n          <b>- {nominative.firstName} {nominative.lastName}</b>\n        </div>\n        <button\n          className={`${cStyles.button} ${cStyles.actionButton}`}\n          onClick={this.handleNominativesRemoval(nominative.id)}\n        >\n          ELIMINA\n        </button>\n      </div>,\n    )\n  }\n\n  handleMultiRemoval = (nominatives) => () => {\n    Modal.show(\n      'Eliminazione nominativi',\n      <div className={`leftAligned ${cStyles.listedContent}`}>\n        Conferma la rimozione dei nominativi: <br />\n        <div className={cStyles.modalList}>\n          {nominatives.map((nominative)=>(\n            <b key={nominative.id} className={cStyles.modalItem}> - {nominative.firstName} {nominative.lastName}<br/></b>\n          ))}\n        </div>\n        <button\n          className={`${cStyles.button} ${cStyles.actionButton}`}\n          onClick={this.handleNominativesRemoval(nominatives)}\n        >\n          ELIMINA\n        </button>\n      </div>\n    )\n  }\n\n  refetch = async () => {\n    try {\n      const data = await client.nominatives.all(this.state.filter, 100000, 0);\n      if (data.timestamp<this.state.timestamp) return;\n      this.setState({ loading: false, data: data.data, error: null, timestamp: data.timestamp})\n      this.context.setCache(this.props.id,'contactData',data.data)\n    }\n    catch(err) {\n      console.error(err);\n      this.setState({loading: false, data: [], error: 'API Error'})\n      this.context.setCache(this.props.id,'contactData',null)\n    }\n  }\n\n  onSelectionChanged = () => {\n    if (this.gridApi) {\n      this.setState(p => ({...p, selected: this.gridApi.getSelectedRows() }))\n    }\n  }\n\n  handleMove = () => {\n    Modal.show(\n      'Sposta nominativo/i',\n      <MoveNominativeForm nominatives={this.state.selected}/>,\n    )\n  }\n\n  async componentDidMount() {\n    window.addEventListener('resize', this.onResize, {passive: true});\n    var cacheData = this.context.getCache(this.props.id,'contactData')\n    if (cacheData) this.setState({data: cacheData, loading:false})\n    else {\n    try {\n      this.refetch()\n    }\n    catch(err) {\n      console.error(err);\n      this.setState({loading: false, data: [], error: 'API Error'})\n    }\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize )\n  }\n\n filterData = async (e) => {\n    this.context.setCache(this.props.id,'contactFilter',e.target.value)\n    this.setState({filter:e.target.value})\n    this.refetch()\n  }\n\n  colDefs = [\n    {headerName: \"\", checkboxSelection: true, width: 20},\n    {headerName: \"Nominativo\" , \ncellRendererFramework: ({data}: CellClassParams) => {\n\tvar gruppi = ''\n\tvar k\n\tif (data && data.groups && data.groups.length>0) {\n\t\tfor (k=0; k<data.groups.length; k++) {\n\t\t\tif (k>0) gruppi+=', '\n\t\t\tgruppi+=data.groups[k].name\n\t\t}\n\t}\n\treturn  (<DndProvider backend={HTML5Backend}>\n\t    <DraggableComponent type='CONTACT' data={data.id}><div style={{'lineHeight':'23px'}}>\n\t{data && data.firstName} {data && data.lastName} {data && !data.firstName && !data.lastName && 'Senza nome'} <br/>\n\t{gruppi}\n\t</div></DraggableComponent>\n\t\t  </DndProvider>) \n\n}\n},\n    {headerName: \"Contatti\", width: 55, cellRenderer: ({data}: CellClassParams) => (`${data && data.contacts && data.contacts.length}`)},\n    {headerName: \"Ultima Modifica\", width: 50, cellRenderer: ({data}: CellClassParams) => {\n\tconst dat = new Date()\n\tif (data && data.lastEdit) {\n        \tdat.setTime(data.lastEdit)\n\t\treturn dat.toLocaleString('it-IT')\n\t}\n\treturn ''\n\t}},\n    {headerName: \"Azioni\", width: 100, suppressSizeToFit: true, cellRendererFramework: ({data}: CellClassParams) => {\n      return (\n        <div className={cStyles.tabActions}>\n          <div style={{cursor: 'pointer'}} onClick={this.handleNominativeClick(data.id)}>  </div>\n          <div style={{cursor: 'pointer'}} onClick={(this.context.loggedUser && this.context.loggedUser.write) && this.handleRemoval(data)}>  </div>\n        </div>\n      )\n    }}\n  ]\n\n  render() {\n    const {loading, error, selected} = this.state;\n\n    var filt = this.context.getCache(this.props.id,'contactFilter')\n    return (\n      <>\n        {loading && !this.context.loggedUser && (\n          <Loader />\n        )}\n        {!loading && !error && this.context.loggedUser && (\n          <>\n          <div className={cStyles.buttonRow}>\n            <button\n              className={cStyles.button}\n              disabled={this.context.loggedUser && !this.context.loggedUser.write}\n              onClick={this.handleNewNominative}\n            >\n              Crea Nominativo\n            </button>\n            {selected && selected.length >= 1 && (\n              <button\n                className={cStyles.button}\n                style={{marginLeft: '1rem'}}\n                disabled={this.context.loggedUser && !this.context.loggedUser.write}\n                onClick={this.handleMultiRemoval(selected)}\n              >\n                Elimina Nominativi\n              </button>\n            )}\n          </div>\n          <label htmlFor=\"filtro\">Filtra:</label>\n          <input id=\"filtro\" defaultValue={filt? filt : \"\"} type=\"text\" onChange={debounced(this.filterData, 350)} />\n          <div className=\"ag-theme-material\">\n            <AgGridReact\n              columnDefs={this.colDefs}\n              rowSelection=\"multiple\"\n              suppressRowClickSelection={true}\n              rowData={this.state.data}\n              onSelectionChanged={this.onSelectionChanged}\n              pagination={true}\n              paginationPageSize={20}\n              onFirstDataRendered={this.onGridReady}\n            />\n          </div>\n          </>\n        )}\n        {!loading && error && (\n          <div className={lStyles.loader}>{error}</div>\n        )}\n      </>\n    )\n  }\n}\n","import React, {Component} from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport {Formik, Form, Field, FormikValues, FormikActions} from 'formik';\r\nimport { client } from '../../../resources';\r\nimport * as yup from 'yup';\r\nimport { PanelContext } from '../../../context/panelContext';\r\nimport { PanelType, GroupInput } from '../../../types.d';\r\nimport styles from './GroupDetailPanel.module.css';\r\nimport { Modal } from '../../Modal/Modal';\r\nimport cStyles from \"../../../common.module.css\";\r\n\r\nexport class CreateGroupForm extends Component<any, any> {\r\n  static contextType = PanelContext;\r\n  context!: React.ContextType<typeof PanelContext>\r\n\r\n  generateValidationSchema = () => yup.object().shape({\r\n    name: yup.string().required(),\r\n    categoria: yup.number().required()\r\n  })\r\n\r\n  onSubmitGroup = async (values: GroupInput) => {\r\n    const result = await client.groups.create(values)\r\n    if(result.code === 201) {\r\n      toast(\"Gruppo creato con successo\", {\r\n        type: toast.TYPE.SUCCESS\r\n      })\r\n      this.props.refetch()\r\n      Modal.hide()\r\n    } else {\r\n      toast(\"Creazione gruppo fallita, riprova\", {\r\n        type: toast.TYPE.ERROR\r\n      })\r\n    }\r\n  }\r\n\r\nrenderOptions = (channels) => {\r\n    const options = channels.map(channel => <option key={channel.ID_CATEGORIA} value={channel.ID_CATEGORIA}>{channel.DESCRIZIONE}</option>)\r\n    return options\r\n  }\r\n\r\n onChange = (setFieldValue) => (event) => {\r\n    console.log('nuova categoria '+event.target.value)\r\n    setFieldValue('categoria', event.target.value)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <>\r\n      <div className={styles.detailForm}>\r\n      <Formik\r\n        initialValues={{\r\n          name: '',\r\n          categoria: -1\r\n        }}\r\n        validationSchema={this.generateValidationSchema()}\r\n        onSubmit={this.onSubmitGroup}\r\n      >\r\n        {({isValid, setFieldValue}) => (\r\n          <Form>\r\n            <div className={cStyles.field}>\r\n              <label>\r\n                <span>Nome</span>\r\n                <Field type=\"text\" name=\"name\" />\r\n              </label>\r\n            </div>\r\n           <div className={cStyles.field}>\r\n\t     <label>\r\n                <span>Categoria</span>\r\n                <select name=\"categoria\" id=\"categoria\" onChange={this.onChange(setFieldValue)}>\r\n                <>\r\n                  <option value={-1}> NESSUNA </option>\r\n                  {this.renderOptions(this.props.categories)}\r\n                </>\r\n                </select>\r\n              </label>\r\n              </div>\r\n            <button\r\n              className={`${cStyles.button} ${cStyles.actionButton}`}\r\n              disabled={!isValid} type=\"submit\"> Crea </button>\r\n\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n      </div>\r\n    </>\r\n  )}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { DndProvider } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\nimport {DraggableComponent} from \"../../DragDrop/DraggableComponent\"\r\n\r\n\r\nexport class CustomGroupRenderer extends Component<any,any> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n       console.log(this.props)\r\n       const data = this.props.node.data\r\n        return (\r\n\t  <DndProvider backend={HTML5Backend}>\r\n\t    <DraggableComponent type='GROUP' data={data.id}>\r\n            <span> {data.name} - ({data.subgroupsCount} Sottogruppi) - ({data.nominativeCount} Nominativi)</span>\r\n\t  </DraggableComponent>\r\n\t\t  </DndProvider>\r\n        );\r\n    }\r\n};","import React, { Component } from \"react\";\r\nimport { AgGridReact  } from 'ag-grid-react';\r\nimport { Loader } from \"../../Loader\";\r\nimport { client } from \"../../../resources\";\r\nimport { PanelContext } from \"../../../context/panelContext\";\r\nimport { GridReadyEvent, GridApi, CellClassParams } from \"ag-grid-community\";\r\nimport { toast } from \"react-toastify\";\r\nimport { PanelType } from \"../../../types.d\";\r\nimport { Modal } from \"../../Modal/Modal\";\r\nimport { CreateGroupForm } from \"../GroupDetailPanel/CreateGroupForm\";\r\nimport cStyles from \"../../../common.module.css\";\r\nimport { debounced } from '../../../utils';\r\n\r\n\r\n\r\nimport {CustomGroupRenderer} from './CustomGroupRenderer'\r\n\r\n\r\nexport class GroupPanel extends Component<any,any> {\r\n  static contextType = PanelContext;\r\n  context!: React.ContextType<typeof PanelContext>\r\n\r\n  state = {\r\n\r\n    \r\n    selected: [],\r\n    loading: false,\r\n    filter: '',\r\n    categoria: 1,\r\n    data: [],\r\n    timestamp: 0,\r\n    error: null,\r\n    total: 0,\r\n    \r\n\r\n  }\r\n\r\n  gridApi: GridApi | null = null;\r\n\r\n  onGridReady = (params: GridReadyEvent) => {\r\n    this.gridApi = params.api;\r\n    this.gridApi.sizeColumnsToFit();\r\n  }\r\n\r\n  onResize = () => {\r\n    if(this.gridApi) {\r\n      this.gridApi.sizeColumnsToFit();\r\n    }\r\n  }\r\n\r\n  getNodeChildDetails = (rowItem: any) => {\r\n    if (rowItem.subgroupsCount) {\r\n      return {\r\n        group: true,\r\n        children: rowItem.subgroups,\r\n        key: rowItem.id\r\n      };\r\n    } else { return {group: false} }\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    window.addEventListener('resize', this.onResize, {passive: true});\r\n    var cacheData = this.context.getCache(this.props.id,'groupData')\r\n    if (!cacheData ) {\r\n    try {\r\n      this.setState({ loading: true })\r\n      this.refetch()\r\n    }\r\n    catch(err) {\r\n      console.error(err);\r\n      this.setState({loading: false, data: [], error: 'API Error', total: 0})\r\n    }\r\n    } else {\r\n\tthis.setState({data: cacheData})\r\n\t}\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.onResize)\r\n  }\r\n\r\n  refetch = async () => {\r\n    try {\r\n      //if (!this.context.rubriche) return\r\n      const {data, timestamp} = await client.groups.all(this.state.filter,(this.hasMenuCategorie()?this.state.categoria:-1));\r\n      console.log('Compare TS: ' + timestamp + ' and ' + this.state.timestamp)\r\n      if (timestamp<this.state.timestamp) return;\r\n\r\n      this.setState({loading: false, data, error: null, timestamp: timestamp})\r\n      this.context.setCache(this.props.id,'groupData',data)\r\n    }\r\n    catch(err) {\r\n      console.error(err);\r\n      this.setState({loading: false, data: [], error: 'API Error'})\r\n      this.context.setCache(this.props.id,'groupData',null)\r\n    }\r\n  }\r\n\r\n  hasMenuCategorie = () => {\r\n    console.log('hasMenuCategorie '+(this.context.rubriche && this.context.rubriche['20181']))\r\n    return (this.context.rubriche && this.context.rubriche['20181']!=null)\r\n  }\r\n\r\n  handleGroupDeletion = (id: any) => async () => {\r\n    const response = await client.groups.delete(id);\r\n    if(response.code === 204) {\r\n      toast('Gruppo eliminato', {\r\n        type: toast.TYPE.SUCCESS\r\n      })\r\n      Modal.hide()\r\n      this.refetch()\r\n    } else {\r\n      toast('Eliminazione fallita, riprova', {\r\n        type: toast.TYPE.ERROR\r\n      })\r\n    }\r\n  }\r\n\r\n  onRemoval = (group: any) => () => {\r\n    Modal.show('Elimina Gruppo',\r\n    <div>\r\n      Procedere con l'eliminazione del Gruppo:\r\n      <br />\r\n      <b>{group.name}</b>\r\n      <button\r\n        className={`${cStyles.button} ${cStyles.actionButton}`}\r\n        onClick={this.handleGroupDeletion(group.id)}\r\n      >\r\n        ELIMINA\r\n      </button>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  handleGroupDetail = (id: any) => () => {\r\n    this.context.onSelect(PanelType.GROUP_DETAILS, this.props.id, id, this.state)\r\n  }\r\n\r\n  handleNewGroup = () => {\r\n    Modal.show('Crea Gruppo',\r\n      <CreateGroupForm refetch={this.refetch} categories={this.context.categories}  />\r\n    )\r\n  }\r\n\r\n  onSelectionChanged = () => {\r\n    if(this.gridApi){\r\n      const selected = this.gridApi.getSelectedRows()\r\n      this.setState(p => ({...p, selected}))\r\n    }\r\n  }\r\n\r\n  handleGroupsRemoval = (groups) => async (event) => {\r\n    const ids = groups.map(({id}) => ({id}))\r\n    const response = await client.groups.deleteMulti(ids)\r\n    if(response.code === 204) {\r\n      toast('Gruppi eliminati', {\r\n        type: toast.TYPE.SUCCESS\r\n      })\r\n      this.setState({selected: []}, ()=> this.refetch())\r\n    } else {\r\n      toast('Eliminazione fallita, riprova', {\r\n        type: toast.TYPE.ERROR\r\n      })\r\n    }\r\n    Modal.hide()\r\n  }\r\n\r\n  handleMultiRemoval = (groups) => () => {\r\n    Modal.show(\r\n      'Elimina Gruppi',\r\n      <div style={{textAlign: 'left'}}>\r\n        Eliminare i gruppi: <br />\r\n        {groups.map((group)=>(\r\n          <b key={group.id}> - {group.name} <br/></b>\r\n        ))}\r\n        <button\r\n          className={`${cStyles.button} ${cStyles.actionButton}`}\r\n          onClick={this.handleGroupsRemoval(groups)}\r\n        >\r\n          ELIMINA\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n filterData = async (e) => {\r\n    this.context.setCache(this.props.id,'groupFilter',e.target.value)\r\n    this.setState({filter:e.target.value})\r\n    this.refetch()\r\n  }\r\n\r\n changeCategoria = async (e) => {\r\n   console.log('categoria '+e.target.value)\r\n   this.context.setCache(this.props.id,'groupCategoria',e.target.value)\r\n   this.setState({categoria: e.target.value},this.refetch)\r\n   \r\n}\r\n\r\n menuCategorie = (def) => {\r\n   return (\r\n     <select style={{\"margin\":\"10px\"}} id=\"categoria\" defaultValue={def} name=\"categoria\" onChange={this.changeCategoria}>\r\n\t<option key=\"-1\" value=\"-1\"> </option>\r\n\t{this.context.categories.map((category) =>(\r\n\t\t<option key={category.ID_CATEGORIA} value={category.ID_CATEGORIA}>{category.DESCRIZIONE}</option>\r\n\t\t))}\r\n     </select>\r\n   )\r\n}\r\n\r\n  render() {\r\n    const {loading, error, selected} = this.state;\r\n    console.log(this.context.loggedUser)\r\n    var filt = this.context.getCache(this.props.id,'groupFilter')\r\n    var cat = this.context.getCache(this.props.id,'groupCategoria')\r\n\r\n    return (\r\n      <>\r\n        {loading && !this.context.loggedUser && <Loader />}\r\n        {!loading && !error && this.context.loggedUser && (\r\n          <>\r\n          <div style={{alignItems: 'center'}}>\r\n            {this.context.loggedUser.write && (\r\n              <>\r\n              <button\r\n                style={{marginLeft: '.5rem', marginBottom: '.5rem'}}\r\n                className={cStyles.button}\r\n                onClick={this.handleNewGroup}>Crea Gruppo</button>\r\n                {selected && selected.length > 1 && (\r\n                  <button className={cStyles.button} style={{marginLeft: '1rem', marginBottom:'.5rem'}} onClick={this.handleMultiRemoval(selected)}>Elimina Gruppi</button>\r\n                )}\r\n                </>\r\n            )}\r\n          </div>\r\n          <div>\r\n          \t<label htmlFor=\"filtro\">Filtra:</label>\r\n          \t<input defaultValue={filt? filt : \"\"} name=\"filtro-gruppo\" id=\"filtro\" type=\"text\" onChange={debounced(this.filterData, 350)} />\r\n          </div>\r\n          {this.hasMenuCategorie() && \r\n           <div>\r\n\t  \t<label htmlFor=\"categoria\">Categoria:</label>\r\n\t  \t{this.menuCategorie(cat!=null?cat:1)}\r\n          </div>\r\n          }\r\n          <div className=\"ag-theme-material\" style={{flex: 1}}>\r\n            <AgGridReact {...this.props}\r\n              columnDefs={[\r\n                {\r\n                  checkboxSelection: this.context.loggedUser.write,\r\n                  headerName: \"Nome Gruppo\",\r\n                  field: \"name\",\r\n                  cellRenderer: \"agGroupCellRenderer\",\r\n\t\t  cellRendererParams:{suppressCount: true, innerRendererFramework: CustomGroupRenderer },\r\n\t\t  cellStyle:{'textOverflow':'clip'},\r\n                  groupId: \"id\",\r\n                  //valueFormatter: ({data, value, node}) => {\r\n                  //  if(data.id !== -1) {\r\n                  //    return ` ${data.name} - (${data.subgroupsCount} Sottogruppi) - (${data.nominativeCount} Nominativi)`\r\n                  //  } else {\r\n                  //    node.setRowSelectable(false)\r\n                  //    return ` ${data.name} - (${data.nominativeCount} Nominativi)`\r\n                  //  }\r\n                  //},\r\n                },\r\n                {\r\n                  headerName: 'Azioni',\r\n                  width: 110,\r\n                  suppressSizeToFit: true,\r\n                  suppressAutoSize: true,\r\n                  cellRendererFramework: ({data}: CellClassParams) => (\r\n                   \r\n                    <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                      <div style={{cursor: 'pointer'}} onClick={this.handleGroupDetail(data.id)}> \r\n                      </div>\r\n                      {data.id !== -1 &&\r\n                        this.context.loggedUser.write &&\r\n                        <div style={{cursor: 'pointer'}} onClick={this.onRemoval(data)}>\r\n                        \r\n                        </div>\r\n                      }\r\n                    </div>\r\n\t\t  \r\n                  )\r\n                }\r\n              ]}\r\n              \r\n\t\trowSelection=\"multiple\"\r\n              rowData={this.state.data}\r\n              pagination={true}\r\n              paginationPageSize={10}\r\n              onSelectionChanged={this.onSelectionChanged}\r\n              onFirstDataRendered={this.onGridReady}\r\n              getNodeChildDetails={this.getNodeChildDetails}\r\n            />\r\n          </div>\r\n          </>\r\n        )}\r\n        {!loading && error && ( <div>{error}</div> )}\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\n\nexport default class TableTooltip extends Component<any, any> {\n  componentDidMount() {\n    this.props.reactContainer.className = 'ag-tooltip';\n  }\n\n  render() {\n    const data = this.props.api.getRowNode(this.props.rowIndex).data;\n    return (\n      <div>\n        <p><span>{`[${data && data.table}]:`}</span></p>\n        <p><span>{`${data && data.description}`}</span></p>\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { AgGridReact } from 'ag-grid-react';\nimport { Loader } from \"../../Loader\";\nimport { client } from \"../../../resources\";\nimport { GridApi, GridReadyEvent } from \"ag-grid-community\";\nimport { TableTooltip } from \"../../Tooltip\";\n\ntype LogPanelState = {\n  loading: boolean;\n  data?: any;\n  error?: string | null;\n}\n\nexport class LogPanel extends Component<any, LogPanelState> {\n  state = {\n    loading: false,\n    data: [],\n    error: null\n  }\n\n  gridApi: GridApi | null = null;\n\n  onGridReady = (params: GridReadyEvent) => {\n    this.gridApi = params.api;\n    this.gridApi.sizeColumnsToFit();\n  }\n\n  onResize = () => {\n    if(this.gridApi) {\n      this.gridApi.sizeColumnsToFit();\n    }\n  }\n\n  async componentDidMount() {\n    window.addEventListener('resize', this.onResize, {passive: true});\n    try {\n      this.setState({ loading: true })\n      const {data} = await client.logs.all('', 1000, 0);\n      this.setState({ loading: false, data, error: null})\n    }\n    catch(err) {\n      console.error(err);\n      this.setState({loading: false, data: [], error: 'API Error'})\n    }    \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize)\n  }\n\n  render() {\n    const {loading, error} = this.state;\n    return (\n      <>\n        {loading && <Loader />}\n        {!loading && !error && (\n          <div className=\"ag-theme-material\" style={{height: '100%'}}>\n            <AgGridReact \n              \n              columnDefs={[\n                {headerName: \"Chi\", width: 55, field: \"editUser\", tooltipField: \"editUser\", sortable: true, filter: true, cellRenderer: ({value}) => `${value && value.firstName} ${value && value.lastName}`},\n                {headerName: \"Quando\", width: 55, field: \"editDate\", sortable: true, cellRenderer: ({value}) => {\n\t\tvar d = new Date()\n\t\td.setTime(value)\n\t\treturn d.toLocaleString('it-IT')\n\t\t}},\n                {headerName: \"Cosa\", tooltipComponent: \"tooltip\", tooltipField: \"description\", filter: true, sortable: true, cellRenderer: ({data}) => {\n                  return `[${data && data.table}]: ${data && data.description}`\n                }},\n                {headerName: \"Azione\", width: 55, sortable: true, field: \"operation\"},\n              ]}\n              rowData={this.state.data} \n              pagination={true}\n              paginationPageSize={10}\n              onFirstDataRendered={this.onGridReady}\n              frameworkComponents={{ tooltip: TableTooltip }}\n              />\n          </div>\n        )}\n        {!loading && error && ( <div>{error}</div> )}\n      </>\n    )\n  }\n}","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form, Field, FormikValues, FormikActions} from 'formik';\nimport { client } from '../../../resources';\nimport { PanelContext } from '../../../context/panelContext';\nimport { NominativeInput, PanelType } from '../../../types.d';\nimport { Modal } from '../../Modal/Modal';\nimport * as yup from 'yup';\nimport cStyles from \"../../../common.module.css\";\nimport styles from './ContactDetailPanel.module.css';\n\n\nexport class DetailForm extends Component<any, any> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  generateValidationSchema = () => yup.object().shape({\n    firstName: yup.string().required(),\n    lastName: yup.string().required(),\n    address: yup.string(),\n    modificaMinore: yup.boolean()\n  })\n\n  onSubmitNominative = async (values: NominativeInput) => {\n    const result = await client.nominatives.update(this.props.nominative.id, values)\n    if(result.code === 204) {\n      await this.props.refetch()\n      Modal.hide()\n      toast(\"Nominativo modificato\", {\n        type: toast.TYPE.SUCCESS\n      })\n    } else {\n      await this.props.refetch()\n      toast(\"Modifica fallita, riprova\", {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\nonCheckChange2 = (setFieldValue, value) => event => {\n    setFieldValue('modificaMinore', event.target.value?true:false)\n  }\n\n  render() {\n    return (\n    <>\n      <div className={styles.detailForm}>\n      <Formik\n        initialValues={{\n          firstName: this.props.nominative.firstName,\n          lastName: this.props.nominative.lastName,\n          contacts: this.props.nominative.contacts,\n          address: this.props.nominative.address,\n          groups: this.props.nominative.groups,\n          group: null,\n          role: null,\n          specificaRuolo:'',\n          modificaMinore:false\n        }}\n        validationSchema={this.generateValidationSchema()}\n        onSubmit={this.onSubmitNominative}\n      >\n        {({isValid, setFieldValue, values}) => (\n          <Form>\n            <div className={cStyles.field}>\n              <label>\n                <span>Nome</span>\n                <Field type=\"text\" name=\"firstName\" />\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Cognome</span>\n                <Field type=\"text\" name=\"lastName\" />\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Indirizzo</span>\n                <Field type=\"text\" name=\"address\" />\n              </label>\n            </div>\n\t <div className={cStyles.field}>\n              <label>\n                <span>Modifica minore</span>\n                <input type=\"checkbox\" defaultChecked={false} onChange={this.onCheckChange2(setFieldValue, values.modificaMinore)} />\n              </label>\n            </div>\n\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid} type=\"submit\"> Modifica </button>\n\n          </Form>\n        )}\n      </Formik>\n      </div>\n    </>\n  )}\n}\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form, Field} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport { ContactInput } from '../../../types.d';\nimport styles from './ContactDetailPanel.module.css';\nimport { Modal } from '../../Modal/Modal';\nimport cStyles from \"../../../common.module.css\";\n\nexport class AddContactForm extends Component<any, any> {\n\n  generateValidationSchema = () => yup.object().shape({\n    channelId: yup.number().required(),\n    value: yup.string().required(),\n    warn: yup.boolean(),\n  })\n\n  onSubmitContact = async (values: ContactInput) => {\n    const result = await client.contacts.create({\n      ...values,\n      nominativeId: this.props.nominative.id\n    })\n    if(result.code === 201) {\n      await this.props.refetch()\n      toast(\"Update avvenuto con successo\", {\n        type: toast.TYPE.SUCCESS\n      })\n      Modal.hide()\n    } else {\n      toast(\"Update fallito, riprova\", {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  onChange = (setFieldValue) => (event) => {\n    setFieldValue('channelId', event.target.value)\n  }\n\n  onCheckChange = (setFieldValue, value) => event => {\n    setFieldValue('warning', event.target.checked)\n  }\n\n  renderOptions = (channels) => {\n    const options = channels.map(channel => <option key={channel.id} value={channel.id}>{channel.name}</option>)\n    return options\n  }\n\n  render() {\n    return (\n    <>\n      <div className={styles.detailForm}>\n      <Formik\n        initialValues={{\n          warning: true,\n          value: '',\n          channelId: null\n        }}\n        validationSchema={this.generateValidationSchema()}\n        onSubmit={this.onSubmitContact}\n      >\n        {({isValid, setFieldValue, values}) => (\n          <Form>\n            <div className={cStyles.field}>\n              <label>\n                <span>Canale</span>\n                <select name=\"channelId\" onChange={this.onChange(setFieldValue)}>\n                <>\n                  <option value={undefined}> -- SELEZIONA CANALE -- </option>\n                  {this.renderOptions(this.props.channels)}\n                </>\n                </select>\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Valore</span>\n                <Field type=\"text\" name=\"value\" />\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Allertamento</span>\n                <input type=\"checkbox\" defaultChecked={values.warning} onChange={this.onCheckChange(setFieldValue, values.warning)} />\n              </label>\n            </div>\n\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid} type=\"submit\"> Crea </button>\n\n          </Form>\n        )}\n      </Formik>\n      </div>\n    </>\n  )}\n}\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form, Field} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport { ContactInput } from '../../../types.d';\nimport { Modal } from '../../Modal/Modal';\nimport styles from './ContactDetailPanel.module.css';\nimport cStyles from \"../../../common.module.css\";\n\nexport class ModifyContactForm extends Component<any, any> {\n\n  generateValidationSchema = () => yup.object().shape({\n    channelId: yup.number().required(),\n    value: yup.string().required(),\n    warning: yup.boolean(),\n    modificaMinore: yup.boolean()\n  })\n\n  onSubmitContact = async (values: ContactInput) => {\n    const result = await client.contacts.update(this.props.contact.id, {\n      ...values,\n      nominativeId: this.props.nominative.id\n    })\n    if(result.code === 204) {\n      await this.props.refetch()\n      Modal.hide()\n      toast(\"Update avvenuto con successo\", {\n        type: toast.TYPE.SUCCESS\n      })\n    } else {\n      toast(\"Update fallito, riprova\", {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  onChange = (setFieldValue) => (event) => {\n    setFieldValue('channelId', event.target.value)\n  }\n\n  renderOptions = (channels) => {\n    const options = channels.map(channel => <option key={channel.id} value={channel.id}>{channel.name}</option>)\n    return options\n  }\n\n  onCheckChange = (setFieldValue,setFieldTouched, value) => event => {\n    setFieldValue('warning', event.target.checked?true:false,true)\n    setFieldTouched('warning',true,true)\n  }\n\nonCheckChange2 = (setFieldValue,setFieldTouched, value) => event => {\n    setFieldValue('modificaMinore', event.target.checked?true:false,true)\n    setFieldTouched('modificaMinore',true,true)\n  }\n\n  render() {\n    return (\n    <>\n      <div className={styles.detailForm}>\n      <Formik\n        initialValues={{\n          warning: this.props.contact.warning,\n          value: this.props.contact.value,\n          channelId: this.props.contact.channelId,\n\t  modificaMinore: false\n        }}\n        validationSchema={this.generateValidationSchema()}\n        onSubmit={this.onSubmitContact}\n      >\n        {({isValid, setFieldValue, setFieldTouched, dirty, values}) => (\n          <Form>\n            <div className={cStyles.field}>\n              <label>\n                <span>Canale</span>\n                <select style={{width: '100%'}} name=\"channelId\" onChange={this.onChange(setFieldValue)} defaultValue={this.props.contact.channelId}>\n                <>\n                  <option value={undefined}> -- SELEZIONA CANALE -- </option>\n                  {this.renderOptions(this.props.channels)}\n                </>\n                </select>\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Valore</span>\n                <Field type=\"text\" name=\"value\" />\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Allertamento</span>\n                <input type=\"checkbox\" defaultChecked={values.warning} onChange={this.onCheckChange(setFieldValue,setFieldTouched, values.warning)} />\n              </label>\n            </div>\n            <div className={cStyles.field}>\n              <label>\n                <span>Modifica minore</span>\n                <input type=\"checkbox\" defaultChecked={false} onChange={this.onCheckChange2(setFieldValue,setFieldTouched, values.modificaMinore)} />\n              </label>\n            </div>\n\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid || !dirty} type=\"submit\"> Salva </button>\n\n          </Form>\n        )}\n      </Formik>\n      </div>\n    </>\n  )}\n}\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport styles from '../ContactDetailPanel/ContactDetailPanel.module.css';\nimport { Modal } from '../../Modal/Modal';\nimport cStyles from \"../../../common.module.css\";\nimport { debounced } from '../../../utils';\n\nexport class GroupList extends Component<any, any> {\n  state = {\n    data: [],\n    loading: true,\n    error: undefined,\n    timestamp: 0\n  }\n\n  generateValidationSchema = () => yup.object().shape({\n    groups: yup.array().of(\n      yup.object({\n        id: yup.mixed().required(),\n        roleId: yup.mixed().required()\n      })\n    )\n  })\n\n  onSubmitChange = async ({groups}: any) => {\n    try {\n      const result = await client.groups.setGroupsNominativeRole(this.props.nominative.id, groups)\n      if(result.code >= 200 && result.code<300) {\n        toast(\"Nominativi associati\", {\n          type: toast.TYPE.SUCCESS\n        })\n        Modal.hide()\n        this.props.refetch()\n      }\n    } catch (error) {\n      console.error(error)\n      toast('Errore associazione', {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  async componentDidMount() {\n    const data = await client.groups.all('', 100000, 0)\n    if(data.code === 200) {\n      if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n  }\n\n  filterData = async (e) => {\n    let data = await client.groups.all(e.target.value, 100000, 0)\n    if(data.code === 200) {\n      if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n    if(e.target.value === '') {\n      data = await client.groups.all('', 100000, 0)\n      if(data.code === 200) {\n        if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n      } else {\n        this.setState({error: 'Errore API', loading: false})\n      }\n    }\n  }\n\n  handleSelection = (group, setFieldValue, {groups}) => (event) => {\n    let selected = []\n    if (groups.find(el => el.id === group.id) !== undefined) {\n      selected = [...groups.filter(el => el .id !== group.id)]\n    } else {\n      selected = [...groups, {id: group.id, role: undefined}]\n    }\n    setFieldValue('groups', selected)\n  }\n\n  handleRole = (group, {groups}, setFieldValue) => (event) => {\n    const pos = groups.findIndex(el => el.id === group.id)\n    const values = [...groups]\n    values[pos].roleId = Number(event.target.value);\n    setFieldValue('groups', values)\n  }\n\nhandleSpecifica = (nominative,  {groups}, setFieldValue) => (event) => {\n    const pos = groups.findIndex(el => el.id === nominative.id)\n    const values = [...groups]\n    values[pos].specificaRuolo = event.target.value;\n    setFieldValue('groups', values)\n}\n\n  render() {\n    return (\n    <>\n      <div className={styles.detailForm}>\n      <Formik\n        initialValues={{\n          groups: []\n        }}\n        validationSchema={this.generateValidationSchema()}\n        onSubmit={this.onSubmitChange}\n      >\n        {({isValid, setFieldValue, values}) => (\n          <Form>\n            <input type=\"text\" onChange={debounced(this.filterData, 350)} />\n            <ul className={cStyles.list}>\n              {this.state.data && this.state.data.map(el => <React.Fragment key={el.id}>\n                {(\n                  <li style={{display: 'flex', alignItems: 'center', padding: '.5rem 0'}}>\n                    <input type=\"checkbox\" defaultChecked={false} onChange={this.handleSelection(el, setFieldValue, values)} />\n                    <span>{el.name}</span>\n                    {values.groups.find(group => group.id === el.id) !== undefined && (\n                      <span>\n                      <select onChange={this.handleRole(el, values, setFieldValue)} defaultValue=\"\" style={{marginLeft: 'auto'}}>\n                        <option value=\"\">Seleziona ruolo</option>\n                        {this.props.roles && this.props.roles.map(role => <option key={role.id} value={role.id}>{role.name}</option>)}\n                      </select>\n                      <input type=\"text\" placeholder=\"Specifica ruolo\" onChange={this.handleSpecifica(el, values, setFieldValue)} />\n                      </span>\n                    )}\n                  </li>\n                )}\n                </React.Fragment>\n              )}\n            </ul>\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid} type=\"submit\"> Associa </button>\n          </Form>\n        )}\n      </Formik>\n      </div>\n    </>\n  )}\n}\n","import React, {Component} from 'react';\nimport { Loader } from \"../../Loader\";\nimport { client } from \"../../../resources\";\nimport { PanelContext } from '../../../context/panelContext';\nimport styles from './ContactDetailPanel.module.css';\nimport { DetailForm } from './DetailForm';\nimport { CreateNominativeForm } from './CreateNominativeForm';\nimport { Modal } from '../../Modal/Modal';\nimport { toast } from 'react-toastify';\nimport { getResId, getChannelName } from '../../../utils';\nimport { PanelType } from '../../../types.d';\nimport { AddContactForm } from './AddContactForm';\nimport { ModifyContactForm } from './ModifyContactForm';\nimport { AddNominativeToGroupForm } from './AddNominativeToGroup';\nimport cStyles from \"../../../common.module.css\"\nimport { AddToGroupForm } from './AddToGroup';\nimport { emitKeypressEvents } from 'readline';\nimport { GroupList } from './GroupList';\n\nimport {DraggableComponent} from '../../DragDrop/DraggableComponent'\n\ninterface ContactDetailState {\n  data: any;\n  loading: boolean;\n  error: string | null;\n  selected: any[]; // contacts\n  selectedGroups: any[];\n  resId?: string;\n  editedGroup: any;\n}\n\nexport class ContactDetailPanel extends Component<any, ContactDetailState> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  state = {\n    data: ({} as any),\n    loading: true,\n    error: null,\n    resId: undefined,\n    selected: [],\n    selectedGroups: [],\n    editedGroup: null\n  }\n\n  async componentDidMount() {\n    const {panels} = this.context;\n    const resId = getResId(panels, this.props.id);\n    if(resId) {\n      try {\n        const {data} = await client.nominatives.getById(resId)\n        this.setState({loading: false, data, error: null, resId})\n      } catch(err) {\n        this.setState({loading: false, data: null, error: 'API Error'})\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {panels} = this.context;\n    const resId = getResId(panels, this.props.id);\n    if(resId !== this.state.resId) {\n      this.refetch()\n    }\n  }\n\ntoggleGroup = (g) => {\n  console.log('toggle group '+g)\n  this.setState({editedGroup: (g==this.state.editedGroup?null:g)})\n}\n\n  refetch = async () => {\n    const {panels} = this.context;\n    const resId = getResId(panels, this.props.id);\n    if(resId) {\n      try {\n        const {data} = await client.nominatives.getById(resId)\n        this.setState({loading: false, data, error: null, resId})\n      } catch(err) {\n        this.setState({loading: false, data: null, error: 'API Error'})\n      }\n    }\n  }\n\n\n\n  removeContact = (id: any) => async () => {\n    const response = await client.contacts.delete(id)\n    if(response.code === 204) {\n      toast(\"Contatto eliminato con successo\", {\n        type: toast.TYPE.SUCCESS\n      })\n      Modal.hide()\n      this.refetch()\n    } else {\n      toast(\"Rimozione contatto fallita\", {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  onRemoveContact = (contact: any) => () => {\n    Modal.show('Elimina Contatto', (\n      <>\n        Procedere con l'eliminazione del Contatto\n        <br/>\n        <b>{contact.value}</b> ?\n      </>\n    ), this.removeContact(contact.id))\n  }\n\n  addNominativeToGroup = (nominative: any) => () => {\n    Modal.show('Associa a Gruppo',\n      <GroupList refetch={this.refetch} nominative={nominative} roles={this.context.roles}/>\n    )\n  }\n\n  removeNominativeFromGroup = (id: any) => async () => {\n    const {panels} = this.context;\n    const resId = getResId(panels, this.props.id);\n    const response = await client.groups.unsetNominativeRole(id, resId);\n    if(response.code >= 200 && response.code<300) {\n        toast(\"Nominativo dissociato con successo\", {\n        type: toast.TYPE.SUCCESS\n      })\n      Modal.hide()\n      this.refetch()\n    } else {\n      toast(\"Dissociazione da gruppo fallita\", {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  onRemoveNominativeFromGroup = (group: any, nominative: any) => () => {\n    Modal.show('Dissocia Nominativo', (\n      <>\n        Procedere con la dissociazione del nominativo:\n        <br/>\n        <b>{nominative.firstName} {nominative.lastName}</b>\n        <br/>\n        dal gruppo\n        <br/>\n        <b>{group.name}</b>\n      </>\n    ), this.removeNominativeFromGroup(group.id)\n    )\n  }\n\n  onGroupDetail = (id: any) => () => {\n    this.context.onSelect(PanelType.GROUP_DETAILS, this.props.id, id);\n  }\n\n  modifyNominative = (nominative) => () => {\n    Modal.show('Modifica Nominativo', <DetailForm nominative={nominative} refetch={this.refetch}/>)\n  }\n\n  getRuoloIdFromName = (nome,roles) => {\n\tfor (var k=0; k<roles.length; k++)\n\t  if (roles[k].name==nome) return roles[k].id\n\treturn \"\"\n}\n\n  getMenuRuolo = (g) => {\n   var ruolo = this.getRuoloSingolo(g)\n   var specifica = this.getSpecificaRuoloSingolo(g)\n    for (var k=0; k<this.state.data.groups.length; k++) {\n      if (this.state.data.groups[k].id==g.id) {\n\treturn (\n\t\t<span>\n                      <select onChange={this.handleRole(g)} defaultValue={ruolo} style={{marginLeft: 'auto'}}>\n                        <option value=\"\">---</option>\n                        {this.context.roles && this.context.roles.map(role => <option key={role.name} value={role.name}>{role.name}</option>)}\n                      </select>\n                      <input style={{display:'inline'}} className='mytext' value={specifica} placeholder=\"Specifica ruolo\" type=\"text\" onChange={this.handleSpecifica(g)} />\n                      </span>\n\t)\n     }\n   }\n}\n\nhandleRole = (group) => (event) => {\n var k\n    var out\n  \n    for (k=0; k<this.state.data.groups.length; k++) {\n      if (this.state.data.groups[k].id==group.id) {\n         this.state.data.groups[k].role  = event.target.value  \n\t const data2 = {...this.state.data}\n\tthis.setState({data:data2})\n\tthis.onSubmitChange(group.id,this.state.data.groups[k].role,this.state.data.groups[k].specificaRuolo)\n\treturn\n\t }\n\t}\n\t\n}\n\nhandleSpecifica = (group) => (event) => {\n var k\n    var out\n    for (k=0; k<this.state.data.groups.length; k++) {\n      if (this.state.data.groups[k].id==group.id) {\n         this.state.data.groups[k].specificaRuolo  = event.target.value  \n   \tthis.setState({data:this.state.data})\n\t const data2 = {...this.state.data}\n\tthis.setState({data:data2})\n\tthis.onSubmitChange(group.id,this.state.data.groups[k].role,this.state.data.groups[k].specificaRuolo)\n\treturn\n  }\n\t }\n}\n\n  onSubmitChange = async (group,ruolo,spec) => {\n    try {\n\tconst {panels} = this.context;\n    const resId = getResId(panels, this.props.id);\n\tvar param = {nominativeId:resId,\n\trole : this.getRuoloIdFromName(ruolo,this.context.roles),\n\tspecificaRuolo : spec }\n        const result = await client.groups.setNominativesRole(group, [param])\n       \n      } catch (error) {\n        console.error(error)\n        toast('Errore associzione', {\n          type: toast.TYPE.ERROR\n        })\n      }\n  }\n\n getRuolo = (group) => {\n    var k\n    var out\n    for (k=0; k<this.state.data.groups.length; k++) {\n      if (this.state.data.groups[k].id==group.id) {\n         out = ' ' + this.state.data.groups[k].role\n         if (this.state.data.groups[k].specificaRuolo) out += ' - ' + this.state.data.groups[k].specificaRuolo\n \n         return out\n\t}\n    }\n    return ''\n  }\n\n  getRuoloSingolo = (group) => {\n    var k\n    var out\n    for (k=0; k<this.state.data.groups.length; k++) {\n      if (this.state.data.groups[k].id==group.id)\n         return this.state.data.groups[k].role    \n    }\n    return ''\n  }\n\n  getSpecificaRuoloSingolo = (group) => {\n    var k\n    var out\n    for (k=0; k<this.state.data.groups.length; k++) {\n      if (this.state.data.groups[k].id==group.id)\n         return this.state.data.groups[k].specificaRuolo  \n    }\n    return ''\n  }\n\n  addContact = (channels) => () => {\n    Modal.show('Crea Contatto', <AddContactForm channels={channels} refetch={this.refetch} nominative={this.state.data}/>)\n  }\n\n  modifyContact = (channels, contact) => () => {\n    Modal.show('Modifica Contatto', <ModifyContactForm channels={channels} refetch={this.refetch} contact={contact} nominative={this.state.data}/>)\n  }\n\n  deleteContacts = (contacts) => (event) => {\n    Modal.show('Elimina Contatti', <div style={{textAlign: 'left'}}>\n      <div style={{display: 'block', marginBottom: '1rem'}}> Eliminare i seguenti contatti: <br/></div>\n      {contacts.map(el => <span key={el.id} style={{display: 'block', marginBottom: '.25rem'}}>\n        <b>- {el.value}</b>\n      </span>)}\n      <button className={`${cStyles.button} ${cStyles.actionButton}`} onClick={this.removeContacts(this.state.selected)} > Elimina </button>\n    </div>)\n  }\n\n  removeContacts = (ids: any) => async () => {\n    const obj = ids.map(el => ({id: el.id}))\n    const response = await client.contacts.deleteMulti(obj)\n    if(response.code >= 200 && response.code<300) {\n      toast(\"Contatti eliminati\", {\n        type: toast.TYPE.SUCCESS\n      })\n      Modal.hide()\n      this.refetch()\n    } else {\n      toast(\"Rimozione contatti fallita\", {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  onRemoveGroups = (groups) => async (e) => {\n    Modal.show('Elimina Contatti', <div style={{textAlign: 'left'}}>\n      <div style={{display: 'block', marginBottom: '1rem'}}> Disassociare i seguenti gruppi: <br/></div>\n      {groups.map(el => <span key={el.id} style={{display: 'block', marginBottom: '.25rem'}}>\n        <b>- {el.name}</b>\n      </span>)}\n      <button className={`${cStyles.button} ${cStyles.actionButton}`} onClick={this.removeGroups(this.state.selectedGroups)} > Disassocia </button>\n    </div>)\n  }\n\n  removeGroups = (ids: any) => async () => {\n    const obj = ids.map(el => {\n      return {\n        id: el.id,\n        roleId: this.context.roles.find(elm => elm.name === el.role).id\n      }\n    })\n    const response = await client.groups.unsetGroupsRole(this.state.resId, obj)\n    if(response.code < 300) {\n      toast(\"Gruppi disassociati\", {\n          type: toast.TYPE.SUCCESS\n      })\n      Modal.hide()\n      this.setState({selectedGroups: []}, this.refetch)\n    } else {\n      toast(\"Rimozione grouppo fallita\", {\n        type: toast.TYPE.SUCCESS\n      })\n    }\n  }\n\n  selectContact = (contact) => (event) => {\n    let selected = []\n    if (this.state.selected.find(el => el.id === contact.id) !== undefined) {\n      selected = [...this.state.selected.filter(el => el .id !== contact.id)]\n    }\n    else {\n      selected = [...this.state.selected, contact]\n    }\n    this.setState({selected})\n  }\n\n  selectGroup = (group) => (e) => {\n    let selectedGroups = []\n    if (this.state.selectedGroups.find(el => el.id === group.id) !== undefined) {\n      selectedGroups = [...this.state.selected.filter(el => el .id !== group.id)]\n    }\n    else {\n      selectedGroups = [...this.state.selectedGroups, group]\n    }\n    this.setState({selectedGroups})\n  }\n\n  render() {\n    const {data, error, loading} = this.state\n    const {channels} = this.context;\n    const dat = new Date();\n    dat.setTime(data.lastEdit);\n\n    return (\n    <>\n      {loading && <Loader />}\n      {!loading && !error && (\n        <div className={styles.detailWrapper}>\n          <div className={styles.detailData}>\n            <h1>{data.firstName} {data.lastName}</h1>\n            <div>\n              ({data.contacts && data.contacts.length}) Contatti\n              -\n              ({data.groups && data.groups.length}) Gruppi\n            </div>\n            <div>\n              Proprietario del nominativo: {data.owner}\n            </div>\n            <div>\n              Ultima Modifica: {data.modifyUser} - {\" \" + dat.toLocaleString('it-IT')}\n            </div>\n            <button\n              style={{marginTop: '1rem'}}\n              className={cStyles.button}\n              onClick={this.modifyNominative(data)}>Modifica Nominativo</button>\n            <button\n              style={{marginTop: '1rem',marginLeft: '1rem'}}\n              className={cStyles.button}\n              onClick={this.refetch}>Refresh</button>\n          </div>\n\n          <div>\n            <h4 style={{marginTop: 0}}>Contatti</h4>\n            <div style={{display: 'flex'}}>\n              <button\n                style={{marginBottom: '1rem'}}\n                className={cStyles.button}\n                onClick={this.addContact(channels)}\n              >\n                Aggiungi Contatto\n              </button>\n              {this.state.selected.length > 0 && (\n                <button\n                  style={{marginBottom: '1rem', marginLeft: '1rem'}}\n                  className={cStyles.button}\n                  onClick={this.deleteContacts(this.state.selected)}\n                >\n                  Rimuovi Contatti\n                </button>\n              )}\n            </div>\n\n\n            <div className={styles.dataList}>\n              <ul className={styles.contactsList}>\n                {data.contacts && data.contacts.map((el:any) => {\n                  return (\n                    <li key={el.id}>\n                      <span className=\"mycheckbox\"><input style={{'marginRight':'1rem'}} className=\"mycheckbox\" type=\"checkbox\" onChange={this.selectContact(el)} /></span>\n                      <span>{getChannelName(channels, el.channelId)} - {el.value}</span>\n                      <span style={{cursor:'pointer'}} onClick={this.modifyContact(channels, el)}> </span>\n                      <span style={{cursor:'pointer'}} onClick={this.onRemoveContact(el)}></span>\n                    </li>\n                  )})\n                }\n              </ul>\n            </div>\n          </div>\n\n          <div>\n            <h4 style={{marginTop: 0}}>Gruppi</h4>\n            <button\n              style={{marginBottom: '1rem'}}\n              className={cStyles.button}\n              onClick={this.addNominativeToGroup(data)}>Aggiungi Nominativo a Gruppo</button>\n            {this.state.selectedGroups.length !== 0 && (\n              <button\n                style={{marginBottom: '1rem', marginLeft: '1rem'}}\n                className={cStyles.button}\n                onClick={this.onRemoveGroups(this.state.selectedGroups)}\n              >\n                Dissocia Gruppi\n              </button>\n            )}\n            <div className={styles.dataList}>\n              <ul className={styles.groupsList}>\n                {data.groups && data.groups.map((el:any, id:number) => {\n                  return (\n                    <li key={el.id}>\n                      <span className=\"mycheckbox\"><input className=\"mycheckbox\" style={{width:'30px !important'}} type=\"checkbox\" onChange={this.selectGroup(el)}/></span>\n                      <span><DraggableComponent type='GROUP' data={el.id}><b><span style={{cursor:'pointer'}} onClick={(e)=>this.toggleGroup(el.id)}>{el.name}</span></b> -  {this.state.editedGroup==el.id?this.getMenuRuolo(el):this.getRuolo(el)}</DraggableComponent></span>\n                      <span style={{cursor:'pointer'}} onClick={this.onGroupDetail(el.id)}>  </span>\n                      <span style={{cursor:'pointer'}} onClick={this.onRemoveNominativeFromGroup(el, data)}>  </span>\n                    </li>\n                    )})\n                  }\n              </ul>\n            </div>\n          </div>\n\n          \n\n        </div>\n      )}\n      {!loading && error && <div>{error}</div>}\n    </>\n    )\n  }\n}\n\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { client } from \"../../../resources\";\r\nimport { PanelContext } from \"../../../context/panelContext\";\r\nimport { GroupInput } from \"../../../types.d\";\r\nimport styles from \"./GroupDetailPanel.module.css\";\r\nimport cStyles from \"../../../common.module.css\";\r\nimport { Modal } from \"../../Modal/Modal\";\r\n\r\nexport class GroupForm extends Component<any, any> {\r\n  static contextType = PanelContext;\r\n  context!: React.ContextType<typeof PanelContext>;\r\n\r\n  generateValidationSchema = () =>\r\n    yup.object().shape({\r\n      name: yup.string().required(),\r\n      categoria: yup.number().required()\r\n    });\r\n\r\n  onSubmitGroup = async (values: GroupInput) => {\r\n    const result = await client.groups.update(this.props.group.id, values);\r\n    if (result.code === 204) {\r\n      toast(\"Gruppo modificato\", {\r\n        type: toast.TYPE.SUCCESS\r\n      });\r\n      Modal.hide();\r\n      this.props.refetch();\r\n    } else {\r\n      toast(\"Modifica fallita, riprova\", {\r\n        type: toast.TYPE.ERROR\r\n      });\r\n    }\r\n  };\r\n\r\nrenderOptions = (channels) => {\r\n    const options = channels.map(channel => <option key={channel.ID_CATEGORIA} value={channel.ID_CATEGORIA}>{channel.DESCRIZIONE}</option>)\r\n    return options\r\n  }\r\n\r\n  onChange = (setFieldValue) => (event) => {\r\n   console.log('nuova categoria '+event.target.value)\r\n    setFieldValue('categoria', event.target.value)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={styles.detailForm}>\r\n          <Formik\r\n            initialValues={{\r\n              name: this.props.group.name,\r\n              categoria:this.props.group.categoria || -1\r\n            }}\r\n            validationSchema={this.generateValidationSchema()}\r\n            onSubmit={this.onSubmitGroup}\r\n          >\r\n            {({ isValid, setFieldValue }) => (\r\n              <Form>\r\n                <div className={cStyles.field}>\r\n                  <label>\r\n                    <span>Nome</span>\r\n                    <Field type=\"text\" name=\"name\" />\r\n                  </label>\r\n                </div>\r\n             <div className={cStyles.field}>\r\n\t     <label>\r\n                <span>Categoria</span>\r\n                <select name=\"categoria\" id=\"categoria\" onChange={this.onChange(setFieldValue)} defaultValue={this.props.group.categoria||-1}>\r\n                <>\r\n                  <option value={-1}> NESSUNA </option>\r\n                  {this.renderOptions(this.props.categories)}\r\n                </>\r\n                </select>\r\n              </label>\r\n              </div>\r\n                <button\r\n                  className={`${cStyles.button} ${cStyles.actionButton}`}\r\n                  disabled={!isValid} type=\"submit\">Modifica</button>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form, Field, FormikValues, FormikActions} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport { PanelContext } from '../../../context/panelContext';\nimport styles from './GroupDetailPanel.module.css';\nimport cStyles from \"../../../common.module.css\";\nimport { Modal } from '../../Modal/Modal';\nimport { debounced } from '../../../utils';\n\n\nexport class GroupList extends Component<any, any> {\n  state = {\n    data: [],\n    selected: [],\n    loading: true,\n    error: undefined,\n    timestamp: 0\n  }\n\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  generateValidationSchema = () => yup.object().shape({\n    ids: yup.array().required(),\n  })\n\n  onSubgroupAdd = async (values: any, actions: any) => {\n    try {\n      const result = await client.groups.setSubgroup(this.props.group.id, values.id)\n      if(result.code === 201) {\n        toast(\"Sottogruppo associato\", {\n          type: toast.TYPE.SUCCESS\n        })\n        Modal.hide()\n        this.props.refetch()\n      }\n    } catch (error) {\n      console.error(error)\n      toast('Errore nell\\' associazione', {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  handleSelection = (group, setFieldValue) => (event) => {\n    let selected = []\n    if (this.state.selected.find(el => el.id === group.id) !== undefined) {\n      selected = [...this.state.selected.filter(el => el .id !== group.id)]\n    } else {\n      selected = [...this.state.selected, {subgroupId: group.id}]\n    }\n    setFieldValue('ids', selected)\n    this.setState({selected})\n  }\n\n  handleSubmit = async (values, actions) => {\n    try {\n      const response = this.props.supergroup? await client.groups.setSupergroupMulti(this.props.group.id, values.ids) : await client.groups.setSubgroupMulti(this.props.group.id, values.ids)\n      if(response.code >= 200 && response.code < 300) {\n        toast(\"Richiesta eseguita\", {\n          type: toast.TYPE.SUCCESS\n        })\n        Modal.hide()\n        this.props.refetch()\n      }\n    } catch (err) {\n      console.error(err)\n      toast('Errore nell\\' associazione', {\n        type: toast.TYPE.ERROR\n      })\n    }\n  }\n\n  async componentDidMount() {\n    const data = await client.groups.all('', 100000, 0)\n    if(data.code === 200) {\n      if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n  }\n\nfilterData = async (e) => {\n    let data = await client.groups.all(e.target.value, 100000, 0)\n    if(data.code === 200) {\n      if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n    if(e.target.value === '') {\n      data = await client.groups.all('', 100000, 0)\n      if(data.code === 200) {\n        if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n      } else {\n        this.setState({error: 'Errore API', loading: false})\n      }\n    }\n  }\n\n  render() {\n    return (\n    <>\n      <div className={styles.detailForm}>\n        <Formik\n          initialValues={{\n            ids: []\n          }}\n          validationSchema={this.generateValidationSchema()}\n          onSubmit={this.handleSubmit}\n        >\n          {({isValid, setFieldValue, resetForm}) => (\n            <Form>\n            <input type=\"text\" onChange={debounced(this.filterData, 350)} />\n              <ul className={cStyles.list}>\n                {this.state.data && this.state.data.map(el => <React.Fragment key={el.id}>\n                  {el.id !== -1 && el.id !== this.props.group.id && (\n                    <li style={{}}>\n                      <input type=\"checkbox\" defaultChecked={false} onChange={this.handleSelection(el, setFieldValue)} />\n                      <span>{el.name}</span>\n                    </li>\n                  )}\n                  </React.Fragment>\n                )}\n              </ul>\n\n              <button\n                style={{marginTop: '1rem'}}\n                className={`${cStyles.button} ${cStyles.actionButton}`}\n                disabled={!isValid} type=\"submit\"\n              >\n                Associa\n              </button>\n\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </>\n  )}\n}\n","import React, {Component} from 'react';\nimport { toast } from 'react-toastify';\nimport {Formik, Form} from 'formik';\nimport { client } from '../../../resources';\nimport * as yup from 'yup';\nimport styles from '../ContactDetailPanel/ContactDetailPanel.module.css';\nimport { Modal } from '../../Modal/Modal';\nimport cStyles from \"../../../common.module.css\";\nimport { debounced } from '../../../utils';\n\nexport class AddNominativesForm extends Component<any, any> {\n  state = {\n    data: [],\n    loading: true,\n    error: undefined,\n    timestamp: 0\n  }\n\n  generateValidationSchema = () => yup.object().shape({\n    nominatives: yup.array().of(\n      yup.object({\n        nominativeId: yup.mixed().required(),\n        role: yup.mixed().required()\n      })\n    )\n  })\n\n  onSubmitChange = async ({nominatives}: any) => {\n    try {\n        const result = await client.groups.setNominativesRole(this.props.group.id, nominatives)\n        if(result.code === 201) {\n          toast(\"Nominativi associati\", {\n            type: toast.TYPE.SUCCESS\n          })\n          Modal.hide()\n          this.props.refetch()\n        }\n      } catch (error) {\n        console.error(error)\n        toast('Errore associazione', {\n          type: toast.TYPE.ERROR\n        })\n      }\n  }\n\n  async componentDidMount() {\n    const data = await client.nominatives.all('', 100000, 0)\n    if(data.code === 200) {\n      this.setState({data: data.data, loading: false})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n  }\n\n  handleSelection = (nominative, setFieldValue, {nominatives}) => (event) => {\n    let selected = []\n    if (nominatives.find(el => el.id === nominative.id) !== undefined) {\n      selected = [...nominatives.filter(el => el .id !== nominative.id)]\n    } else {\n      selected = [...nominatives, {nominativeId: nominative.id, role: undefined}]\n    }\n    setFieldValue('nominatives', selected)\n  }\n\n  handleRole = (nominative, {nominatives}, setFieldValue) => (event) => {\n    const pos = nominatives.findIndex(el => el.nominativeId === nominative.id)\n    const values = [...nominatives]\n    values[pos].role = event.target.value;\n    setFieldValue('nominatives', values)\n  }\n\n  handleSpecifica = (nominative,  {nominatives}, setFieldValue) => (event) => {\n    const pos = nominatives.findIndex(el => el.nominativeId === nominative.id)\n    const values = [...nominatives]\n    values[pos].specificaRuolo = event.target.value;\n    setFieldValue('nominatives', values)\n}\n\n  filterData = async (e) => {\n    let data = await client.nominatives.all(e.target.value, 100000, 0)\n    if(data.code === 200) {\n      if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n    } else {\n      this.setState({error: 'Errore API', loading: false})\n    }\n    if(e.target.value === '') {\n      data = await client.nominatives.all('', 100000, 0)\n      if(data.code === 200) {\n        if (data.timestamp>this.state.timestamp) this.setState({data: data.data, loading: false, timestamp: data.timestamp})\n      } else {\n        this.setState({error: 'Errore API', loading: false})\n      }\n    }\n  }\n\n  render() {\n    return (\n    <>\n      <div className={styles.detailForm}>\n      <Formik\n        initialValues={{\n          nominatives: []\n        }}\n        validationSchema={this.generateValidationSchema()}\n        onSubmit={this.onSubmitChange}\n      >\n        {({isValid, setFieldValue, values}) => (\n          <Form>\n            <input type=\"text\" onChange={debounced(this.filterData, 350)} />\n            <ul className={cStyles.list}>\n              {this.state.data && this.state.data.map(el => <React.Fragment key={el.id}>\n                {(\n                  <li style={{display: 'flex', alignItems: 'center', padding: '.5rem 0'}}>\n                    <input type=\"checkbox\" defaultChecked={false} onChange={this.handleSelection(el, setFieldValue, values)} />\n                    <span>{el.lastName} {el.firstName}</span>\n                    {values.nominatives.find(nomin => nomin.nominativeId === el.id) !== undefined && (\n                      <span>\n                      <select onChange={this.handleRole(el, values, setFieldValue)} defaultValue=\"\" style={{marginLeft: 'auto'}}>\n                        <option value=\"\">Seleziona ruolo e specifica</option>\n                        {this.props.roles && this.props.roles.map(role => <option key={role.id} value={role.id}>{role.name}</option>)}\n                      </select>\n                      <input placeholder=\"Specifica ruolo\" type=\"text\" onChange={this.handleSpecifica(el, values, setFieldValue)} />\n                      </span>\n                    )}\n                  </li>\n                )}\n                </React.Fragment>\n              )}\n            </ul>\n            <button\n              className={`${cStyles.button} ${cStyles.actionButton}`}\n              disabled={!isValid} type=\"submit\"> Associa </button>\n\n          </Form>\n        )}\n      </Formik>\n      </div>\n    </>\n  )}\n}\n","import React, {PureComponent} from 'react';\r\nimport { Loader } from \"../../Loader\";\r\nimport { client } from \"../../../resources\";\r\nimport { PanelContext } from '../../../context/panelContext';\r\nimport styles from './GroupDetailPanel.module.css';\r\nimport { CreateGroupForm } from './CreateGroupForm';\r\nimport { GroupForm } from './GroupForm';\r\nimport { AddSubgroupForm } from './AddSubgroupForm';\r\nimport { toast } from 'react-toastify';\r\nimport { AddNominativeForm } from './AddNominativeForm';\r\nimport { CreateGreaterNominativeForm } from '../ContactDetailPanel/CreateGreaterNominativeForm';\r\nimport { getResId } from '../../../utils';\r\nimport { PanelType } from '../../../types.d';\r\nimport { Modal } from '../../Modal/Modal';\r\nimport cStyles from \"../../../common.module.css\"\r\nimport { GroupList } from './GroupList';\r\nimport { AddNominativesForm } from './AddNominativesForm';\r\n\r\nimport {DraggableComponent} from '../../DragDrop/DraggableComponent'\r\n\r\ninterface GroupDetailState {\r\n  selectedGroups: any[];\r\n  selectedSupergroups: any[];\r\n  selectedNominatives: any[];\r\n  data: any;\r\n  editedNominative: any;\r\n  loading: boolean;\r\n  error: string | null;\r\n  resId?: number;\r\n}\r\n\r\nexport class GroupDetailPanel extends PureComponent<any, GroupDetailState> {\r\n  static contextType = PanelContext;\r\n  context!: React.ContextType<typeof PanelContext>\r\n\r\n  state = {\r\n    selectedGroups: [],\r\n    selectedSupergroups: [],\r\n    selectedNominatives: [],\r\n    editedNominative: null,\r\n    data: ({} as any),\r\n    loading: true,\r\n    error: null,\r\n    resId: undefined\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {panels} = this.context;\r\n    const resId = getResId(panels, this.props.id);\r\n    if(resId) {\r\n      try {\r\n        const {data} = await client.groups.getById(resId)\r\n        this.setState({loading: false, data, error: null, resId})\r\n      } catch(err) {\r\n        this.setState({loading: false, data: null, error: 'API Error'})\r\n      }\r\n    }\r\n  }\r\n\r\ntoggleNominative = (nominative) => {\r\n  console.log('toggle nominative '+nominative)\r\n  this.setState({editedNominative: (nominative==this.state.editedNominative?null:nominative)})\r\n}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {panels} = this.context;\r\n    const resId = getResId(panels, this.props.id);\r\n    if(resId !== this.state.resId) {\r\n      this.refetch()\r\n    }\r\n  }\r\n\r\n  refetch = async () => {\r\n    const {panels} = this.context;\r\n    const resId = getResId(panels, this.props.id);\r\n    if(resId) {\r\n      try {\r\n        const {data} = await client.groups.getById(resId)\r\n        this.setState({loading: false, data, error: null, resId})\r\n      } catch(err) {\r\n        this.setState({loading: false, data: null, error: 'API Error'})\r\n      }\r\n    }\r\n  }\r\n\r\n  onGroupDetail = (id: any) => () => {\r\n    this.context.onSelect(PanelType.GROUP_DETAILS, this.props.id, id)\r\n    // this.refetch() // Needed or data props won't update\r\n  }\r\n\r\n  onNominativeDetail = (id: any) => () => {\r\n    this.context.onSelect(PanelType.CONTACT_DETAILS, this.props.id, id)\r\n    // this.refetch() // Needed or data props won't update\r\n  }\r\n\r\n  deleteSubgroup = (id: any) => async () => {\r\n    const {data} = this.state;\r\n    const response = await client.groups.removeSubgroup(data.id, id);\r\n    if (response.code < 300) {\r\n      toast('Sottogruppo eliminato con successo', {type: toast.TYPE.SUCCESS})\r\n      Modal.hide();\r\n      this.refetch()\r\n    } else {\r\n      toast('Errore eliminazione sottogruppo', {type: toast.TYPE.ERROR})\r\n    }\r\n  }\r\n\r\n  onDeleteSubgroup = (group: any, fatherGroup: any) => async () => {\r\n    Modal.show('Conferma disaddociazione gruppo', (\r\n      <div>\r\n        Confermi la disassociazione del gruppo:\r\n        <br/>\r\n        <b>{group.name}</b>\r\n        <br />\r\n        da\r\n        <br />\r\n        <b>{fatherGroup.name}</b>\r\n      </div>\r\n    ), this.deleteSubgroup(group.id))\r\n  }\r\n\r\n  modifyGroup = (group: any) => () => {\r\n    Modal.show('Modifica Gruppo', <GroupForm refetch={this.refetch} group={group} categories={this.context.categories} />)\r\n  }\r\n\r\n  exportGroup = (group: any) => () => {\r\n    window.open(\"/o/rubrica/gruppo/?gruppo=\"+group.id, \"_blank\")\r\n}\r\n\r\n  exportGroup2 = (group: any) => () => {\r\n    window.open(\"/o/rubrica/gruppo/?gruppo=\"+group.id+\"&separati=true\", \"_blank\")\r\n}\r\n\r\n  unsetNominative = (group, nominative) => async () => {\r\n    const response = await client.groups.unsetNominativeRole(group.id, nominative.id);\r\n    if (response.code < 300) {\r\n      toast('Nominativo dissociato con successo', {type: toast.TYPE.SUCCESS})\r\n      Modal.hide();\r\n      this.refetch()\r\n    } else {\r\n      toast('Errore disassociazione nominativo', {type: toast.TYPE.ERROR})\r\n    }\r\n  }\r\n\r\n  onUnsetNominative = (nominative: any, group: any) => () => {\r\n    Modal.show('Disassocia Nominativo', (\r\n      <div>\r\n        Procedere con la dissociazione del nominativo <br/>\r\n        <b>{nominative.firstName} {nominative.lastName}</b> <br/>\r\n        dal gruppo: <br/>\r\n        <b>{group.name} ?</b>\r\n      </div>\r\n    ), this.unsetNominative(group, nominative)\r\n    )\r\n  }\r\n\r\n  onSetNominative = (group) => () => {\r\n    Modal.show('Associa Nominativi', (\r\n      <AddNominativesForm refetch={this.refetch} roles={this.context.roles} group={group} />\r\n    ))\r\n  }\r\n\r\nonCreateNominative = (group) => () => {\r\n    Modal.showTall('Crea Nominativo in Gruppo', (\r\n      <CreateGreaterNominativeForm refetch={this.refetch} roles={this.context.roles} group={group} />\r\n    ))\r\n  }\r\n\r\n  onAddSubgroup = (group) => () => {\r\n    Modal.show('Associa Sottogruppi', (\r\n      <GroupList refetch={this.refetch} group={group}/>\r\n    ))\r\n  }\r\n\r\n  onAddSupergroup = (group) => () => {\r\n    Modal.show('Aggiungi appartenenza', (\r\n      <GroupList supergroup={true} refetch={this.refetch} group={group}/>\r\n    ))\r\n  }\r\n\r\n  onRemoveSubgroups = (groups, parentId) => () => {\r\n    Modal.show('Disassocia Sottogruppi', <div style={{textAlign: 'left'}}>\r\n      Procedere con la disassociazione dei gruppi:\r\n      {groups.map(el => (\r\n        <div key={el.id} style={{margin: '.25rem 0', fontWeight: 'bold'}}>- {el.name}</div>\r\n      ))}\r\n      <button\r\n        onClick={this.removeSubgroups(groups, parentId)}\r\n        className={`${cStyles.button} ${cStyles.actionButton}`}\r\n      >\r\n        Disassocia\r\n      </button>\r\n    </div>)\r\n  }\r\n\r\n  onRemoveSupergroups = (groups, parentId) => () => {\r\n    Modal.show('Rimuovi appartenenza', <div style={{textAlign: 'left'}}>\r\n      Procedere con la rimozione delle appartenenze:\r\n      {groups.map(el => (\r\n        <div key={el.id} style={{margin: '.25rem 0', fontWeight: 'bold'}}>- {el.name}</div>\r\n      ))}\r\n      <button\r\n        onClick={this.removeSupergroups(groups, parentId)}\r\n        className={`${cStyles.button} ${cStyles.actionButton}`}\r\n      >\r\n        Rimuovi\r\n      </button>\r\n    </div>)\r\n  }\r\n\r\n  onRemoveNominatives = (nominatives, group) => () => {\r\n    Modal.show('Disassocia Nominativi', <div style={{textAlign: 'left'}}>\r\n      Procedere con la disassociazione dei nominativi:\r\n      {nominatives.map(el => (\r\n        <div key={el.id} style={{margin: '.25rem 0', fontWeight: 'bold'}}>- {el.firstName} {el.lastName}</div>\r\n      ))}\r\n      <div>Dal gruppo: {group.name} ?</div>\r\n      <button\r\n        onClick={this.removeNominatives(group.id, nominatives)}\r\n        className={`${cStyles.button} ${cStyles.actionButton}`}\r\n      >\r\n        Disassocia\r\n      </button>\r\n    </div>)\r\n  }\r\n\r\n  removeNominatives = (id, nominatives) => async () => {\r\n    const data = nominatives.map(el => ({nominativeId: el.id}))\r\n    try {\r\n      const response = await client.groups.unsetNominativesRole(id, data)\r\n      if (response.code < 300) {\r\n        toast('Nominativi disassociati', {type: toast.TYPE.SUCCESS})\r\n        Modal.hide();\r\n        this.refetch()\r\n      } else {\r\n        toast('Errore disassociazione nominativi', {type: toast.TYPE.ERROR})\r\n      }\r\n    } catch(err) {\r\n      toast('Errore disassociazione nominativo', {type: toast.TYPE.ERROR})\r\n    }\r\n  }\r\n\r\n  removeSubgroups = (groups, parentId) => async (event) => {\r\n    const formattedRequest = groups.map(el => ({subgroupId: el.id}))\r\n    const response = await client.groups.removeSubgroups(parentId, formattedRequest)\r\n    if (response.code < 300) {\r\n      this.setState({selectedGroups: []}, () => {\r\n        toast('Gruppi disassociati', {type: toast.TYPE.SUCCESS})\r\n        Modal.hide();\r\n        this.refetch();\r\n      })\r\n    } else {\r\n      console.error(response)\r\n      toast('Errore disassociazione', {type: toast.TYPE.ERROR})\r\n    }\r\n  }\r\n\r\n  removeSupergroups = (groups, parentId) => async (event) => {\r\n    const formattedRequest = groups.map(el => ({subgroupId: el.id}))\r\n    const response = await client.groups.removeSupergroups(parentId, formattedRequest)\r\n    if (response.code < 300) {\r\n      this.setState({selectedGroups: []}, () => {\r\n        toast('Appartenenze rimosse', {type: toast.TYPE.SUCCESS})\r\n        Modal.hide();\r\n        this.refetch();\r\n      })\r\n    } else {\r\n      console.error(response)\r\n      toast('Errore disassociazione', {type: toast.TYPE.ERROR})\r\n    }\r\n  }\r\n\r\n  handleGroupSelection = (group) => (event) => {\r\n    let selectedGroups = []\r\n    if (this.state.selectedGroups.find(el => el.id === group.id) !== undefined) {\r\n      selectedGroups = [...this.state.selectedGroups.filter(el => el .id !== group.id)]\r\n    }\r\n    else {\r\n      selectedGroups = [...this.state.selectedGroups, group]\r\n    }\r\n    this.setState({selectedGroups})\r\n  }\r\n\r\n   handleSupergroupSelection = (group) => (event) => {\r\n    let selectedSupergroups = []\r\n    if (this.state.selectedSupergroups.find(el => el.id === group.id) !== undefined) {\r\n      selectedSupergroups = [...this.state.selectedSupergroups.filter(el => el .id !== group.id)]\r\n    }\r\n    else {\r\n      selectedSupergroups = [...this.state.selectedSupergroups, group]\r\n    }\r\n    this.setState({selectedSupergroups})\r\n  }\r\n\r\n  handleNominativeSelection = (nominative) => (event) => {\r\n    let selectedNominatives = []\r\n    if (this.state.selectedNominatives.find(el => el.id === nominative.id) !== undefined) {\r\n      selectedNominatives = [...this.state.selectedNominatives.filter(el => el .id !== nominative.id)]\r\n    }\r\n    else {\r\n      selectedNominatives = [...this.state.selectedNominatives, nominative]\r\n    }\r\n    this.setState({selectedNominatives})\r\n  }\r\n\r\n  getRuoloIdFromName = (nome,roles) => {\r\n\tfor (var k=0; k<roles.length; k++)\r\n\t  if (roles[k].name==nome) return roles[k].id\r\n\treturn \"\"\r\n}\r\n\r\n  getMenuRuolo = (nominativo) => {\r\n   var ruolo = this.getRuoloSingolo(nominativo)\r\n   var specifica = this.getSpecificaRuoloSingolo(nominativo)\r\n    for (var k=0; k<nominativo.groups.length; k++) {\r\n      if (nominativo.groups[k].id==this.state.data.id) {\r\n\treturn (\r\n\t\t<span>\r\n                      <select onChange={this.handleRole(nominativo)} defaultValue={ruolo} style={{marginLeft: 'auto'}}>\r\n                        <option value=\"\">---</option>\r\n                        {this.context.roles && this.context.roles.map(role => <option key={role.name} value={role.name}>{role.name}</option>)}\r\n                      </select>\r\n                      <input style={{display:'inline'}} className='mytext' value={specifica} placeholder=\"Specifica ruolo\" type=\"text\" onChange={this.handleSpecifica(nominativo)} />\r\n                      </span>\r\n\t)\r\n     }\r\n   }\r\n}\r\n\r\nhandleRole = (nominativo) => (event) => {\r\n var k\r\n    var out\r\n  \r\n    for (k=0; k<nominativo.groups.length; k++) {\r\n      if (nominativo.groups[k].id==this.state.data.id) {\r\n         nominativo.groups[k].role  = event.target.value  \r\n\t const data2 = {...this.state.data}\r\n\tthis.setState({data:data2})\r\n\tthis.onSubmitChange(nominativo.id,nominativo.groups[k].role,nominativo.groups[k].specificaRuolo)\r\n\treturn\r\n\t }\r\n\t}\r\n\t\r\n}\r\n\r\nhandleSpecifica = (nominativo) => (event) => {\r\n var k\r\n    var out\r\n    for (k=0; k<nominativo.groups.length; k++) {\r\n      if (nominativo.groups[k].id==this.state.data.id) {\r\n         nominativo.groups[k].specificaRuolo  = event.target.value  \r\n   \tthis.setState({data:this.state.data})\r\n\t const data2 = {...this.state.data}\r\n\tthis.setState({data:data2})\r\n\tthis.onSubmitChange(nominativo.id,nominativo.groups[k].role,nominativo.groups[k].specificaRuolo)\r\n\treturn\r\n  }\r\n\t }\r\n}\r\n\r\n  onSubmitChange = async (utente,ruolo,spec) => {\r\n    try {\r\n\tvar param = {nominativeId:utente,\r\n\trole : this.getRuoloIdFromName(ruolo,this.context.roles),\r\n\tspecificaRuolo : spec }\r\n        const result = await client.groups.setNominativesRole(this.state.data.id, [param])\r\n       \r\n      } catch (error) {\r\n        console.error(error)\r\n        toast('Errore associzione', {\r\n          type: toast.TYPE.ERROR\r\n        })\r\n      }\r\n  }\r\n\r\n  getRuolo = (nominativo) => {\r\n    var k\r\n    var out\r\n    for (k=0; k<nominativo.groups.length; k++) \r\n      if (nominativo.groups[k].id==this.state.data.id) {\r\n         out = '- ' + nominativo.groups[k].role\r\n         if (nominativo.groups[k].specificaRuolo) out += ' - ' + nominativo.groups[k].specificaRuolo\r\n         return out\r\n    }\r\n    return ''\r\n  }\r\n\r\n  getRuoloSingolo = (nominativo) => {\r\n    var k\r\n    var out\r\n    for (k=0; k<nominativo.groups.length; k++) {\r\n      if (nominativo.groups[k].id==this.state.data.id)\r\n         return nominativo.groups[k].role    \r\n    }\r\n    return ''\r\n  }\r\n\r\n  getSpecificaRuoloSingolo = (nominativo) => {\r\n    var k\r\n    var out\r\n    for (k=0; k<nominativo.groups.length; k++) {\r\n      if (nominativo.groups[k].id==this.state.data.id)\r\n         return nominativo.groups[k].specificaRuolo  \r\n    }\r\n    return ''\r\n  }\r\n\r\n  render() {\r\n    const {data, error, loading} = this.state\r\n    const d = new Date()\r\n    d.setTime(data.lastEdit)\r\n    console.log(d)\r\n    const ultimaMod = d.toLocaleString('it-IT')\r\n    return (\r\n    <>\r\n      {loading && <Loader />}\r\n      {!loading && !error && (\r\n        <div className={styles.groupsWrapper}>\r\n          <div className={styles.groupData}>\r\n            <h1 style={{marginTop: 0}}>{data.name}</h1>\r\n            <div>\r\n              <span>\r\n                <b>{data.nominativeCount}</b> Nominativi\r\n              </span>\r\n              &nbsp; - &nbsp;\r\n              <span>\r\n                <b>{data.subgroupsCount}</b> Sottogruppi\r\n              </span>\r\n              &nbsp; - &nbsp; Appartiene a &nbsp;\r\n              <span>\r\n                <b>{data.supergroupsCount}</b> gruppi\r\n              </span>\r\n              <div>Proprietario: {data.owner && data.owner.name}</div>\r\n              <div>Categoria: {data.categoriaName?data.categoriaName:\"Nessuna\"}</div>\r\n              <div>Ultima Modifica: {ultimaMod} - {data.lastEditUser && `${data.lastEditUser.firstName} ${data.lastEditUser.lastName}`}</div>\r\n            </div>\r\n          </div>\r\n\t  <button\r\n              style={{marginTop: '.5rem',marginRight: '.5rem',marginBottom: '.5rem'}}\r\n              className={cStyles.button}\r\n              onClick={this.exportGroup(data)}> Esporta XLS </button>\r\n          <button\r\n              style={{marginTop: '.5rem',marginRight: '.5rem',marginBottom: '.5rem'}}\r\n              className={cStyles.button}\r\n              onClick={this.exportGroup2(data)}> Esporta ZIP </button>\r\n          {data.id !== -1 && (\r\n            <button\r\n              style={{marginTop: '.5rem',marginBottom: '.5rem'}}\r\n              className={cStyles.button}\r\n              onClick={this.modifyGroup(data)}> Modifica Gruppo </button>\r\n          )}\r\n\t<br/>\r\n\t<br/>\r\n\t<div className={styles.subgroupsList}>\r\n            <h4 style={{margin: 0}}>Nominativi</h4>\r\n            {data.id !== -1 && (\r\n              <>\r\n              <button\r\n                style={{marginTop: '.5rem', marginRight: '.5rem', marginBottom:'.5rem'}}\r\n                className={cStyles.button}\r\n                onClick={this.onCreateNominative(data)}\r\n              >\r\n                Crea Nominativo\r\n              </button>\r\n              <button\r\n                style={{marginTop: '.5rem', marginBottom:'.5rem'}}\r\n                className={cStyles.button}\r\n                onClick={this.onSetNominative(data)}\r\n              >\r\n                Associa Nominativo\r\n              </button>\r\n              {this.state.selectedNominatives && this.state.selectedNominatives.length > 0 && (\r\n                <button\r\n                  style={{margin: '.5rem 0 .5rem 1rem'}}\r\n                  className={cStyles.button}\r\n                  onClick={this.onRemoveNominatives(this.state.selectedNominatives, data)}>Disassocia Nominativi</button>\r\n              )}\r\n              </>\r\n            )}\r\n            <ul className={styles.nominatives}>\r\n              {data.nominatives && data.nominatives.length === 0 && <div>Non ci sono nominativi</div>}\r\n              {data.nominatives && data.nominatives.map((nominative: any) => {\r\n                return <li key={nominative.id}>\r\n                  <span className=\"mycheckbox\"><input type=\"checkbox\" className=\"mycheckbox\" defaultChecked={false} onChange={this.handleNominativeSelection(nominative)}/></span>\r\n                  <span><DraggableComponent type='CONTACT' data={nominative.id}><b><span style={{cursor:'pointer'}} onClick={(e)=>this.toggleNominative(nominative.id)}>{nominative.firstName} {nominative.lastName}</span></b> {this.state.editedNominative==nominative.id?this.getMenuRuolo(nominative):this.getRuolo(nominative)} ({nominative.groups && nominative.groups.length} Gruppi) ({nominative.contacts && nominative.contacts.length} Contatti)</DraggableComponent></span>\r\n                  {data.id !== -1 && <span style={{cursor:'pointer'}} onClick={this.onNominativeDetail(nominative.id)}>  </span>}\r\n                  {data.id !== -1 && <span style={{cursor:'pointer'}} onClick={this.onUnsetNominative(nominative, data)}>  </span>}\r\n                </li>\r\n              })}\r\n            </ul>\r\n          </div>\r\n\r\n          {data.id !== -1 && (\r\n            <div className={styles.subgroupsList}>\r\n              <div>\r\n                <h4 style={{margin: '1rem 0 0'}}>Appartiene ai gruppi</h4>\r\n                <button\r\n                  style={{margin: '.5rem 0'}}\r\n                  className={cStyles.button}\r\n                  onClick={this.onAddSupergroup(data)}>Aggiungi appartenenza</button>\r\n                {this.state.selectedSupergroups && this.state.selectedSupergroups.length > 0 && (\r\n                  <button\r\n                    style={{margin: '.5rem 0 .5rem 1rem'}}\r\n                    className={cStyles.button}\r\n                    onClick={this.onRemoveSupergroups(this.state.selectedSupergroups, data.id)}>Rimuovi appartenenza</button>\r\n                )}\r\n              </div>\r\n              <ul className={styles.subGroups}>\r\n                {data.supergroups && data.supergroups.length === 0 && <div>Non appartiene ad alcun gruppo</div>}\r\n                {data.supergroups && data.supergroups.map((group: any) => {\r\n                  return (\r\n                    <li key={group.id}>\r\n                      <span className=\"mycheckbox\"><input type=\"checkbox\" className=\"mycheckbox\" defaultChecked={false} onChange={this.handleSupergroupSelection(group)}/></span>\r\n                      <span><DraggableComponent type='GROUP' data={group.id}>{group.name}</DraggableComponent></span>\r\n                      <span style={{cursor:'pointer'}} onClick={this.onGroupDetail(group.id)}> </span>\r\n                    </li>\r\n                  )\r\n                })}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {data.id !== -1 && (\r\n            <div className={styles.subgroupsList}>\r\n              <div>\r\n                <h4 style={{margin: '1rem 0 0'}}>Sottogruppi</h4>\r\n                <button\r\n                  style={{margin: '.5rem 0'}}\r\n                  className={cStyles.button}\r\n                  onClick={this.onAddSubgroup(data)}>Associa Sottogruppo</button>\r\n                {this.state.selectedGroups && this.state.selectedGroups.length > 0 && (\r\n                  <button\r\n                    style={{margin: '.5rem 0 .5rem 1rem'}}\r\n                    className={cStyles.button}\r\n                    onClick={this.onRemoveSubgroups(this.state.selectedGroups, data.id)}>Disassocia Sottogruppi</button>\r\n                )}\r\n              </div>\r\n              <ul className={styles.subGroups}>\r\n                {data.subgroups && data.subgroups.length === 0 && <div>Non ci sono sottogruppi</div>}\r\n                {data.subgroups && data.subgroups.map((group: any) => {\r\n                  return (\r\n                    <li key={group.id}>\r\n                      <span className=\"mycheckbox\"><input type=\"checkbox\" className=\"mycheckbox\" defaultChecked={false} onChange={this.handleGroupSelection(group)}/></span>\r\n                      <span><DraggableComponent type='GROUP' data={group.id}>{group.name} ({group.subgroupsCount} Sottogruppi) ({group.nominativeCount} Nominativi)</DraggableComponent></span>\r\n                      <span style={{cursor:'pointer'}} onClick={this.onGroupDetail(group.id)}> </span>\r\n                      <span style={{cursor:'pointer'}} onClick={this.onDeleteSubgroup(group, data)}> </span>\r\n                    </li>\r\n                  )\r\n                })}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          \r\n        </div>\r\n      )}\r\n      {!loading && error && <div>{error}</div>}\r\n    </>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\";\nimport { Loader } from \"../../Loader\";\nimport { client } from \"../../../resources\";\nimport { PanelContext } from \"../../../context/panelContext\";\nimport styles from \"./PermissionPanel.module.css\"\nimport { toast, ToastType } from \"react-toastify\";\n\ntype PermissionPanelState = {\n  loading: boolean;\n  data?: any;\n  error?: string | null;\n}\n\nexport class PermissionPanel extends Component<any, PermissionPanelState> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n\n  state = {\n    loading: false,\n    data: new Array(),\n    error: null\n  }\n\n  fetchData = async () => {\n    try {\n      this.setState({ loading: true })\n      const {data} = await client.rolesPermission.all()\n      console.log(data)\n      this.setState({ loading: false, data, error: null})\n    }\n    catch(err) {\n      console.error(err);\n      this.setState({loading: false, data: [], error: 'API Error'})\n    }\n  }\n\n\n\n  handleChange = (role) => async (event) => {\n    event.persist()\n    try {\n      console.log(event.target.value, 'prev', role.read, 'next', !role.read)\n      switch(event.target.value) {\n        case \"R\":\n          const r = await client.rolesPermission.update(role.roleId, role.permission, !role.read, role.write)\n          break;\n        case \"W\":\n          const w = await client.rolesPermission.update(role.roleId, role.permission, role.read, !role.write)\n          break;\n        case \"P\":\n          const p = await client.rolesPermission.update(role.roleId, !role.permission, role.read, role.write)\n          break;\n      }\n      toast('Ruolo aggiornato con successo', {type: ToastType.SUCCESS})\n      this.fetchData()\n    } catch (error) {\n      toast('Errore nell\\' aggiornamento', {type: ToastType.ERROR})\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  render() {\n    const {loading, error, data} = this.state;\n    return (\n      <>\n        {loading && data.length === 0 && <Loader />}\n        {!loading && !error && data.length > 0 && (\n          <div className={styles.permissionGrid}>\n            <span style={{textAlign: 'center', fontWeight: 'bold'}}>RUOLO</span>\n            <span style={{textAlign: 'center', fontWeight: 'bold'}}>LETTURA</span>\n            <span style={{textAlign: 'center', fontWeight: 'bold'}}>SCRITTURA</span>\n            <span style={{textAlign: 'center', fontWeight: 'bold'}}>PERMESSI</span>\n            {this.state.data.map(el => {\n              return (<React.Fragment key={el.roleId}>\n                <span className={`${styles.perm} ${styles.left}`}>{el.roleName}</span>\n                <span className={styles.perm}>\n                  <input type=\"checkbox\" value={'R'} onChange={this.handleChange(el)} defaultChecked={el.read}/>\n                </span>\n                <span className={styles.perm}>\n                  <input type=\"checkbox\" value={'W'} onChange={this.handleChange(el)} defaultChecked={el.write}/>\n                </span>\n                <span className={styles.perm}>\n                  <input type=\"checkbox\" value={'P'} onChange={this.handleChange(el)} defaultChecked={el.permission}/>\n                </span>\n              </React.Fragment>)\n            })}\n          </div>\n        )}\n        {!loading && error && ( <div>{error}</div> )}\n      </>\n    )\n  }\n}\n","import React, {PureComponent} from 'react';\r\nimport { Loader } from \"../../Loader\";\r\nimport { client } from \"../../../resources\";\r\nimport { PanelContext } from '../../../context/panelContext';\r\nimport { PanelType } from '../../../types.d';\r\nimport cStyles from \"../../../common.module.css\";\r\nimport impStyles from \"./ImportPanel.module.css\";\r\n\r\nexport class ImportPanel extends PureComponent<any, any> {\r\n\r\n     state = {\r\n       comandi: null,\r\n       selectedFile: null,\r\n       risultato: null,\r\n       note: null,\r\n       warning: null\r\n     }\r\n\r\n     onFileChange = event => { \r\n     \r\n      // Update the state \r\n      this.setState({ selectedFile: event.target.files[0], note:null, risultato:null }); \r\n     \r\n    };\r\n\r\n    onSubmit = async () => {\r\n\r\n  const form = new FormData()\r\n  form.append('comandi', JSON.stringify(this.state.comandi))\r\n  //const aut = \"p_auth=\"+window[\"Liferay\"].authToken\r\n\r\n  const fetchUrl = '/o/rubrica/upload/'\r\n\r\n  const res = await fetch(fetchUrl, {\r\n    headers:new Headers(),\r\n    method: 'POST',\r\n    credentials: \"include\",\r\n    body: form\r\n  })\r\n\r\n   const data = await res.json()\r\n\r\n    this.setState({comandi:null,selectedFile:null,note:data.note,risultato:data.risultato})\r\n    } \r\n     \r\n    // On file upload (click the upload button) \r\n    onFileUpload = async () => { \r\n     \r\n      // Create an object of formData \r\n      const formData = new FormData(); \r\n      const headers = new Headers()\r\n     \r\n      // Update the formData object \r\n      formData.append( \r\n        \"file\", \r\n        this.state.selectedFile, \r\n        this.state.selectedFile.name \r\n      ); \r\n     \r\n      // Details of the uploaded file \r\n      console.log(this.state.selectedFile); \r\n     \r\n      // Request made to the backend api \r\n      // Send formData object \r\n      const res = await fetch('/o/rubrica/upload/', {\r\n         headers,\r\n         method: 'POST',\r\n         credentials: \"include\",\r\n         body: formData\r\n        })\r\n\r\n\tconst data = await res.json()\r\n        console.log(data)\r\n        this.setState({comandi:data.comandi,note:data.note,risultato:null,warning:this.trovaNominativiMultipli(data.comandi)})\r\n    }; \r\n\r\n     trovaNominativiMultipli = (dati) => {\r\n\r\n         var k\r\n         var j\r\n         var out = []\r\n         var list = []\r\n\r\n         for (k=0; k<dati.length; k++) {\r\n             if (dati[k].chiedi && dati[k].decisione!='NOTHING') {\r\n                   var trovato = false;\r\n                   for (var i=0; i<list.length; i++) {\r\n                       if (list[i]==dati[k].old) trovato = true;\r\n                   }\r\n                   if (trovato) continue;\r\n\r\n                   var testo = dati[k].nome + ' ' + dati[k].cognome+' ('+dati[k].nomeGruppo;\r\n                   var aggiungi = false;\r\n                   for (j=k+1; j<dati.length; j++) {\r\n                       if (dati[j].old==dati[k].old && dati[j].chiedi && dati[j].decisione!='NOTHING') {\r\n                           testo+=', '+dati[j].nomeGruppo;\r\n                           aggiungi = true;\r\n                       }\r\n                   }\r\n                   if (aggiungi) {\r\n                       out.push(testo+')');\r\n                       list.push(dati[k].old)\r\n                   }\r\n             }\r\n         }\r\n\r\n         return out;\r\n     }\r\n\r\n     stileDecisione = (decisione) => {\r\n        return impStyles[decisione?decisione.toLowerCase():'nothing'];\r\n     }\r\n\r\n     render() {\r\n       return (<>\r\n         {this.state.note &&\r\n             <div className={this.state.risultato=='ok'?impStyles.noteok:impStyles.noteko}>\r\n                {this.state.note}\r\n             </div>\r\n         }\r\n         {!this.state.comandi &&\r\n           <div> \r\n                <input type=\"file\" onChange={this.onFileChange} /> \r\n                <button className={cStyles.button} onClick={this.onFileUpload}> \r\n                  Carica\r\n                </button> \r\n           </div> \r\n         }\r\n        {this.state.warning && this.state.warning.length>0 &&\r\n             \r\n           <div><b>Attenzione: il file contiene modifiche ai seguenti nominativi ripetuti in righe diverse. Se si sceglie 'Cambia ovunque' su pi di una riga, solo l'ultima sar presa in considerazione.</b>\r\n           <ul>\r\n               {this.state.warning.map(item => <li>{item}</li>)}\r\n           </ul>\r\n         </div>\r\n        }\r\n\t{this.state.comandi &&\r\n\t  <div>\r\n            <p>Saranno eseguite le seguenti modifiche alla rubrica:</p>\r\n            <table className={`${impStyles.tabella}`}>\r\n              <thead><tr><th style={{width:'20%'}}>Gruppo</th><th style={{width:'10%'}}>Azione</th><th style={{width:'15%'}}>Nominativo</th><th style={{width:'10%'}}>Ruolo</th><th style={{width:'10%'}}>Altri gruppi</th><th style={{width:'10%'}}>Indirizzo</th><th style={{width:'25%'}}>Contatti</th></tr></thead>\r\n              <tbody>\r\n           {this.state.comandi.map(cmd => <tr className={`${impStyles.riga}`}>\r\n               <td className={`${impStyles.cella}`}>{cmd.nomeGruppo}</td>\r\n               <td>{cmd.decisione!='NOTHING' && <span className={`${this.stileDecisione(cmd.decisione)}` }>{cmd.decisione}</span>}\r\n               {cmd.chiedi && <div>\r\n                     <select onChange={(e)=>{cmd.risposta=(e.target.value=='qui');}}>\r\n                       <option value=\"ovunque\">Cambia ovunque</option>\r\n                       <option value=\"qui\">Cambia solo qui</option>\r\n                     </select>\r\n               </div> }\r\n               </td> \r\n               <td>{cmd.decisione=='UPDATE' &&  (cmd.nome!=cmd.oldNome || cmd.cognome!=cmd.oldCognome) &&\r\n                   <span className={`${impStyles.deleted}` }>{cmd.oldNome} {cmd.oldCognome} <br/></span>}\r\n                   {cmd.decisione=='DELETE' && <span>{cmd.oldNome} {cmd.oldCognome}</span>}\r\n                   {cmd.nome} {cmd.cognome}</td>  \r\n         \r\n               <td>{cmd.decisione=='UPDATE' && (cmd.nomeRuolo!=cmd.oldNomeRuolo || cmd.specifica!=cmd.oldSpecifica) &&\r\n                   <span className={`${impStyles.deleted}` }>{cmd.oldNomeRuolo} {cmd.oldSpecifica} <br/></span>}\r\n                   {cmd.decisione=='DELETE' && <span>{cmd.oldNomeRuolo} {cmd.oldSpecifica}</span>}\r\n                   {cmd.nomeRuolo} {cmd.specifica}</td> \r\n\r\n               <td>{cmd.nomiGruppiAppartenenza}</td>\r\n\r\n               <td>{cmd.decisione=='UPDATE' && (cmd.indirizzo!=cmd.oldIndirizzo) &&\r\n                   <span className={`${impStyles.deleted}` }>{cmd.oldIndirizzo}<br/></span>}\r\n                   {cmd.indirizzo}</td>\r\n               <td>\r\n                  {cmd.contatti.map(cont => <div>\r\n                         <span>{cont.nomeCanale} {cont.oldContatto} {cont.decisione!='NOTHING' && <span className={`${this.stileDecisione(cont.decisione)}` }> {cont.decisione} \r\n{cont.nomeCanale=='EMAIL' && cont.oldContatto && !cont.oldContatto.includes('@') && cont.decisione!='DELETE' && <span className={`${this.stileDecisione('DELETE')}` }>NON SEMBRA UNA EMAIL</span>}\r\n{cont.nomeCanale!='EMAIL' && cont.oldContatto && cont.oldContatto.includes('@') && cont.decisione!='DELETE' && <span className={`${this.stileDecisione('DELETE')}` }>NON SEMBRA UN TELEFONO</span>}\r\n</span>}</span>\r\n                         <br/>\r\n                     </div> )}\r\n               </td>\r\n             </tr>\r\n\r\n) }\r\n           </tbody></table>\r\n\r\n          <br/>\r\n          <br/>\r\n          <div style={{maxWidth:'250px',display:'flex',justifyContent:'space-between !important'}}>\r\n          <button className={`${cStyles.button}`} onClick={this.onSubmit}>Conferma</button>\r\n          <button className={`${cStyles.button}`} onClick={()=>{this.setState({comandi:null,selectedFile:null,warning:null})}}>Annulla</button>\r\n          </div>\r\n          </div>\r\n\t}\r\n\r\n\t\r\n\t</>)\r\n     }\r\n\r\n}","import React, { Component, useContext } from \"react\";\r\nimport { useDrop, DndContext } from 'react-dnd';\r\n\r\nexport function DroppableComponent(props) {\r\n  const dndcontext = useContext(DndContext)\r\n  //console.log(dndcontext)\r\n  if (dndcontext.dragDropManager===undefined) {\r\n    console.log('No context, no DnD')\r\n    return <>{props.children}</>\r\n  }\r\n  const [collectedProps, drop] = useDrop({\r\n    accept: props.accept,\r\n    drop: props.drop\r\n  })\r\n  //console.log(\"DroppableComponent\")\r\n  //console.log(props)\r\n  return <div ref={drop}>{props.children}</div>\r\n}","import React, {PureComponent, MouseEvent} from \"react\";\nimport { PanelType } from \"../../types.d\";\nimport styles from \"./Panel.module.css\";\nimport { PanelContext } from \"../../context/panelContext\";\nimport { PanelSelector } from \"./PanelSelector\";\nimport { ContactPanel } from \"./ContactPanel\";\nimport { GroupPanel } from \"./GroupPanel\";\nimport { LogPanel } from \"./LogPanel\";\nimport { ContactDetailPanel } from \"./ContactDetailPanel\";\nimport { GroupDetailPanel } from \"./GroupDetailPanel\";\nimport { PermissionPanel } from \"./PermissionPanel\";\nimport { ImportPanel } from \"./ImportPanel\";\n\nimport { DroppableComponent } from \"../DragDrop/DroppableComponent\";\n\ntype PanelProps = {\n  id: string,\n  type: PanelType,\n  currentState?: object;\n}\n\nexport class Panel extends PureComponent<PanelProps,{inFocus: boolean}> {\n  static contextType = PanelContext;\n  context!: React.ContextType<typeof PanelContext>\n  panelRef = React.createRef<HTMLDivElement>()\n  state = { \n    inFocus: true\n  }\n\n  focus = (e) => {\n    if (this.props.id === this.context.focusedIndex) {\n      this.setState({inFocus: true})\n    } else {\n      this.setState({inFocus: false})\n    }\n    this.context.focusId(this.props.id)\n  }\n\n  componentDidUpdate() {\n    if (this.props.id !== this.context.focusedIndex) {\n      this.setState({inFocus: false})\n    } else {\n      this.setState({inFocus: true})\n    }\n  }\n\n  componentDidMount() {\n    this.context.focusId(this.props.id)\n    this.panelRef.current.addEventListener('click', this.focus)\n  }\n\n  componentWillUnmount() {\n    this.panelRef.current.addEventListener('click', this.focus)\n  }\n\n  refCallback = (c) => {\n            \tif (c && c.props && c.props.id) {\n            \t window['rubrica_panel_'+c.props.id] = c\n            \t console.log('rubrica_panel_'+c.props.id)\n            \t console.log(window['rubrica_panel_'+c.props.id].state)\n            \t }\n   }\n\n  dropCallback = (item,monitor) => {\n    console.log('dropCallback')\n    if (!item || !item.type) return\n\n    if (item.type==='GROUP') this.context.onSelect(PanelType.GROUP_DETAILS,this.props.id,item.data)\n    if (item.type==='CONTACT') this.context.onSelect(PanelType.CONTACT_DETAILS,this.props.id,item.data)\n  }\n\n  render() {\n    const {type} = this.props;    \n    return (\n     <DroppableComponent accept={['GROUP','CONTACT']} drop={this.dropCallback}>\n      <div className={`${styles.panel} ${this.state.inFocus ? styles.inFocus : ''}` } ref={this.panelRef} data-id={this.props.id}>\n        <div className={styles.panelHeader}>\n          <PanelSelector id={this.props.id} selected={this.props.type}/>\n          <div style={{display: 'flex'}}>\n            {this.context.panels.find(el => el.id === this.props.id).history.length > 0 && (\n              <div tabIndex={0} onClick={this.context.onGoBack(this.props.id)} style={{cursor: 'pointer', marginRight: '1rem'}}>  </div>\n            )}\n            <div tabIndex={0} onClick={this.context.onSplit} style={{cursor: 'pointer', marginRight: '1rem'}}>  </div>\n            <div tabIndex={0} onClick={this.context.onMerge} style={{cursor: 'pointer'}}>  </div>\n          </div> \n        </div>\n        <div className={styles.panelBody}>\n          {type === PanelType.CONTACTS && <ContactPanel id={this.props.id} currentState={this.props.currentState} />}\n          {type === PanelType.CONTACT_DETAILS && <ContactDetailPanel id={this.props.id} currentState={this.props.currentState} />}\n          {type === PanelType.GROUPS && <GroupPanel id={this.props.id} currentState={this.props.currentState}  />}\n          {type === PanelType.GROUP_DETAILS && <GroupDetailPanel id={this.props.id} currentState={this.props.currentState} />}\n          {type === PanelType.LOGS && <LogPanel id={this.props.id} currentState={this.props.currentState}  />}\n          {type === PanelType.PERMISSION && <PermissionPanel id={this.props.id} currentState={this.props.currentState} />}\n          {type === PanelType.IMPORT && <ImportPanel id={this.props.id} currentState={this.props.currentState} />}\n        </div>\n      </div>\n     </DroppableComponent>\n    )\n  }\n}","import React, { Component } from \"react\";\r\nimport { client } from '../../resources';\r\n\r\ntype TimerState = {\r\n  time: any\r\n  start: any\r\n  timer : any\r\n  isOn: boolean\r\n}\r\n\r\nexport class Timer extends React.Component<{}, TimerState> {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      time: 0,\r\n      start: 0,\r\n      timer: null,\r\n      isOn: false\r\n    }    \r\n    this.startTimer = this.startTimer.bind(this)\r\n    this.stopTimer = this.stopTimer.bind(this)\r\n    this.resetTimer = this.resetTimer.bind(this)\r\n  }  \r\n\r\n  startTimer() {\r\n    this.setState({\r\n      time: this.state.time,\r\n      start: Date.now() - this.state.time,\r\n      isOn: true\r\n    })\r\n    this.setState({timer : setInterval(() => client.channels.all(), 60000) });\r\n  }  \r\n\r\n  stopTimer() {\r\n    this.setState({isOn: false})\r\n    clearInterval(this.state.timer)\r\n  }  \r\n\r\n  resetTimer() {\r\n    this.setState({time: 0})\r\n  }  \r\n\r\n  render() {    \r\n\tif (!this.state.isOn) this.startTimer()\r\n\treturn <div></div>\r\n    \r\n  }\r\n}","import React, { Component, MouseEvent } from \"react\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { IPanel, PanelType } from \"../../types.d\";\r\nimport { PanelContext } from \"../../context/panelContext\";\r\nimport { Panel } from \"../Panel\";\r\nimport { Timer } from \"./Timer\"\r\nimport { client } from \"../../resources\";\r\n\r\nimport styles from \"./main.module.css\";\r\nimport { genID } from \"../../utils\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { DndProvider } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\n\r\ntype MainState = {\r\n  channels: any[]\r\n  roles: any[]\r\n  permissions: any[]\r\n  categories: any[]\r\n  rolesPermission: any[]\r\n  focusedIndex: number | string\r\n  panels: IPanel[]\r\n  loggedUser: any,\r\n  cache: any,\r\n  rubriche: any,\r\n  rubricaAttuale: any\r\n}\r\n\r\nexport class Main extends Component<{}, MainState> {\r\n  state = {\r\n    loggedUser: undefined,\r\n    channels: [],\r\n    roles: [],\r\n    permissions: [],\r\n    categories: [],\r\n    rolesPermission: [],  \r\n    focusedIndex: '',\r\n    cache: {},\r\n    panels: new Array<IPanel>(\r\n      {id: genID(), type: PanelType.GROUPS, history: []},\r\n    ),\r\n    rubriche: null,\r\n    rubricaAttuale: null\r\n  };\r\n\r\n  setCache = (panel: string, key: string, value: object) => {\r\n    var cac = this.state.cache? {... this.state.cache} : {}\r\n    cac[panel+'_'+key] = value\r\n    this.setState({cache: cac})\r\n\r\n  };\r\n\r\n  getCache = (panel: string, key: string) => {\r\n   return this.state.cache[panel+'_'+key]\r\n  }\r\n    \r\n  onSplit = () => {\r\n    const {panels} = this.state;\r\n    if (panels.length === 2) { return };\r\n    panels.push({\r\n      id: genID(),\r\n      type: PanelType.CONTACTS,\r\n      history: [],\r\n      resId: undefined\r\n    })\r\n    return this.setState({...this.state, panels}, () => {\r\n      window.dispatchEvent(new UIEvent('resize'))\r\n    })\r\n  };\r\n\r\n  onMerge = () => {\r\n    const {panels, focusedIndex} = this.state;\r\n    if (panels.length === 1) { return };\r\n    const newPanels = panels.filter(panel => panel.id !== focusedIndex)\r\n    return this.setState({...this.state, panels: newPanels}, () => {\r\n      this.focusId((newPanels[0].id as string))\r\n      window.dispatchEvent(new UIEvent('resize'))\r\n    })\r\n  };\r\n\r\n  onFocus = (event: MouseEvent) => {\r\n    event.persist();\r\n    const id = (event.currentTarget as HTMLDivElement).dataset.id;\r\n    this.setState(p => ({focusedIndex: id}))\r\n  };\r\n\r\n  focusId = (id: string) => {\r\n    this.setState(p => ({focusedIndex: id}))\r\n  };\r\n  \r\n  onSelect = (type: PanelType, id: number | string, resId?: number, currentState?: object) => {\r\n    const {panels} = this.state;\r\n    \r\n    const newPanels = panels.map((panel: IPanel) => {\r\n      if (panel.id === id) {\r\n        panel.history.push({\r\n          type: panel.type,\r\n          resId: panel.resId,\r\n          currentState: currentState\r\n        })\r\n        panel.type = type;\r\n        panel.resId = resId;\r\n      }\r\n      return panel;\r\n    })\r\n    return this.setState({panels: newPanels, focusedIndex: id})\r\n  };\r\n\r\n  onNominative = (resId?: number, currentState?: object) => {\r\n    this.onSelect(PanelType.CONTACT_DETAILS, this.state.focusedIndex, resId, currentState);\r\n  };\r\n\r\n  onGroup = (resId?: number, currentState?: object) => {\r\n    this.onSelect(PanelType.GROUP_DETAILS, this.state.focusedIndex, resId, currentState);\r\n  }\r\n\r\n  onGoBack = (panelId) => (event: MouseEvent) => {\r\n    const panel = this.state.panels.find(el => el.id === panelId)\r\n    const panelHistory = panel.history\r\n    const poppedElement: any = panelHistory.pop()\r\n    const newPanels = this.state.panels.map(el => {\r\n      if (el.id === panelId) {\r\n        el.resId = poppedElement.resId\r\n        el.type = poppedElement.type\r\n        el.currentState = poppedElement.currentState\r\n        return el \r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n    this.setState(p => ({\r\n      panels: newPanels\r\n    }))\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {data: channels } = await client.channels.all();\r\n    const {data: roles} = await client.roles.all();\r\n    const {data: permissions} = await client.permission.all();\r\n    const {data: rolesPermission} = await client.rolesPermission.all();\r\n    const {data: categories} = await client.category.all();\r\n    const {data: loggedUser} = await client.loggedUser();\r\n    const rubriche = await client.getRubriche();\r\n    console.log(rubriche);\r\n    console.log(Object.keys(rubriche));\r\n    const rubricaAttuale = await client.getRubricaAttuale();\r\n    this.setState(p => ({...p, channels, roles, categories, loggedUser, permissions, rolesPermission, rubriche, rubricaAttuale}));\r\n  }\r\n\r\n  async handleRubricaChange(e) {\r\n     await client.aggiornaRubrica(e.target.value)\r\n     window.location.reload(false);\r\n  }\r\n\r\n  render() {\r\n    const {panels, channels, roles, loggedUser, focusedIndex, permissions, rolesPermission, cache, categories, rubriche} = this.state;\r\n    console.log('Main.render')\r\n    console.log(HTML5Backend)\r\n    if (!this.state.rubriche) return <div/>\r\n    return (\r\n      <DndProvider backend={HTML5Backend}>\r\n      <main className={`${styles.mainWrapper}`}>\r\n\t<Timer />\r\n        {this.state.rubriche && this.state.rubricaAttuale && <div>\r\n             Rubriche disponibili: <span>\r\n                      <select onChange={this.handleRubricaChange} defaultValue={this.state.rubricaAttuale} style={{marginLeft: 'auto'}}>\r\n                        {Object.keys(this.state.rubriche).map(role => <option key={role} value={role}>{this.state.rubriche[role]}</option>)}\r\n                      </select>\r\n                      </span>\r\n             <br/>\r\n             <br/>\r\n        </div>}\r\n        <section className={`${styles.panelsGrid} ${styles[`grid${panels.length}`]}`}>\r\n          <PanelContext.Provider value={{\r\n            loggedUser,\r\n            roles,\r\n            channels,\r\n            panels,\r\n            focusedIndex,\t\r\n            permissions,\r\n            categories,\r\n            rolesPermission,\r\n            rubriche,\r\n            getCache: this.getCache,\r\n            setCache: this.setCache,\r\n            onGoBack: this.onGoBack,\r\n            onMerge: this.onMerge,\r\n            onSplit: this.onSplit,\r\n            onSelect: this.onSelect,\r\n            onFocus: this.onFocus,\r\n            focusId: this.focusId,\r\n          }}>\r\n            {panels.map(({id, type, currentState}) => <Panel key={`panel_${id}`} id={(id as string)} type={type} \r\n            \tcurrentState={currentState}  />)}\r\n          </PanelContext.Provider>\r\n        </section>\r\n        <ToastContainer />\r\n      </main>\r\n     </DndProvider>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Main } from './components/Main';\nimport { Modal } from './components/Modal/Modal';\nimport 'url-search-params-polyfill';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n// import 'ag-grid-enterprise';\nimport './index.css';\n\n\n\nrender(\n  <>\n    \n    <Modal />\n    <Main />\n    \n  </>,\n  document.getElementById('app-root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deleted\":\"ImportPanel_deleted__NXmcx\",\"nothing\":\"ImportPanel_nothing__1Ed4N\",\"insert\":\"ImportPanel_insert__1YUO6\",\"update\":\"ImportPanel_update__3_mbE\",\"delete\":\"ImportPanel_delete__3C3C5\",\"tabella\":\"ImportPanel_tabella__PgqCP\",\"riga\":\"ImportPanel_riga__yCobw\",\"cella\":\"ImportPanel_cella__1IH-J\",\"noteok\":\"ImportPanel_noteok__2x_lM\",\"noteko\":\"ImportPanel_noteko__1d7e3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"common_button__3i05i\",\"actionButton\":\"common_actionButton__fHtRI\",\"field\":\"common_field__3Dg5N\",\"tabActions\":\"common_tabActions__2K4ln\",\"buttonRow\":\"common_buttonRow__TpAUS\",\"listedContent\":\"common_listedContent__1zBX8\",\"modalList\":\"common_modalList__2C7CO\",\"modalItem\":\"common_modalItem__3twHv\",\"list\":\"common_list__DGTGR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backDrop\":\"Modal_backDrop__H96IY\",\"modal\":\"Modal_modal__3OJ38\",\"tallModal\":\"Modal_tallModal__1bZkN\",\"modalTitle\":\"Modal_modalTitle__XI-9y\",\"modalContent\":\"Modal_modalContent__3k-sj\",\"modalActions\":\"Modal_modalActions__3EYz7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"permissionGrid\":\"PermissionPanel_permissionGrid__2n4ve\",\"perm\":\"PermissionPanel_perm__3VoZv\",\"left\":\"PermissionPanel_left__2xt93\"};"],"sourceRoot":""}